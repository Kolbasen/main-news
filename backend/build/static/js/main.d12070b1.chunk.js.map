{"version":3,"sources":["components/Cards/style.js","helpers/apiHelpers.js","helpers/useInfiniteScrollHelper.js","components/Cards/Cards.js","store/currentNews/actions.js","store/actionsConsts.js","store/cards/actions.js","components/Cards/CardsContainer.js","components/SideDrawer/style.js","components/SideDrawer/SideList.js","components/SideDrawer/SideDrawer.js","components/AppToolBar/style.js","components/AppToolBar/AppToolBar.js","components/AppToolBar/AppToolBarContainer.js","components/HotNews/style.js","components/HotNews/HotNews.js","components/HotNews/HotNewsContainer.js","components/CurrentNews/style.js","components/CurrentNews/CurrentNews.js","store/hotNews/actions.js","components/CurrentNews/CurrentNewsContainer.js","store/oneCard/actions.js","components/TagNews/style.js","components/TagNews/TagNews.js","components/TagNews/TagNewsContainer.js","helpers/tokenHelpers.js","components/AdminComponents/AdminLogin/style.js","components/AdminComponents/AdminLogin/AdminLogin.js","components/AdminComponents/ImageCrop/ImageCrop.js","components/AdminComponents/Form/Form.js","components/AdminComponents/Admin/Admin.js","components/Contacts/style.js","components/Contacts/Contacts.js","components/App/App.js","serviceWorker.js","store/currentNews/reducer.js","store/cards/reducer.js","store/hotNews/reducer.js","store/oneCard/reducer.js","store/reducers.js","index.js","telegram-icon.png","logo2.png","email.png"],"names":["makeStyles","theme","items","display","flexDirection","justifyContent","alignItems","card","width","marginBottom","spacing","breakpoints","down","media","height","API_URL","process","getTenCards","currID","a","url","fetch","method","headers","result","extractResult","getCards","token","sendCard","formData","body","editCard","deleteCard","id","JSON","stringify","getOneNews","endpoint","getHotNews","getTagNews","tag","loginQuery","data","json","entity","success","statusText","useInfiniteScroll","callback","useState","isFetching","setIsFetching","debounce","func","delay","inDebounce","clearTimeout","setTimeout","apply","arguments","handleScroll","window","innerHeight","Math","max","pageYOffset","document","documentElement","scrollTop","offsetHeight","useEffect","addEventListener","removeEventListener","Cards","props","cards","setCards","history","useHistory","classes","useStyles","isLoading","setIsLoading","currId","setCurrId","length","setNewsLeft","newCards","concat","console","log","fetchingMoreCards","newsLeft","fetchStartingData","style","marginTop","map","value","key","className","Card","CardActionArea","onClick","push","CardMedia","image","photo","title","CardContent","Typography","gutterBottom","variant","component","shortHeader","setCurrentNews","currentNews","type","payload","mapActionsToProps","connect","state","list","fullList","textDecoration","SideList","toggleDrawer","role","onKeyDown","ListItem","button","ListItemText","primary","href","target","src","Email","marginLeft","Telegram","SideDrawer","sideDrawerOpen","Drawer","open","onClose","root","toolbar","backgroundColor","maxHeight","mobileItem","up","menuButton","marginRight","bottomLine","Map","AppToolBar","oneCard","useStyle","setSideDrawerOpen","setTag","date","setDate","location","pathname","match","Date","createdAt","toLocaleDateString","split","join","tags","AppBar","position","Toolbar","IconButton","logo","prevState","fontSize","event","get","set","HotNews","hotNews","useLocation","container","maxWidth","CurrentNews","useParams","setHotNews","setOneCard","Promise","all","oneNews","fetchOneNews","whiteSpace","header","color","text","TagNews","params","fetchTagNews","getToken","localStorage","getItem","setToken","setItem","palette","common","white","elements","form","padding","avatar","margin","submit","input","AdminLogin","username","setUsername","password","setPassword","redirect","setRedirect","submitting","setSubmitting","error","setError","handleSubmit","e","to","Container","CssBaseline","Avatar","Grid","TextField","label","onChange","autoFocus","fullWidth","Button","preventDefault","ImageCrop","crop","unit","aspect","onSelectFile","files","reader","FileReader","setState","readAsDataURL","onImageLoaded","imageRef","onCropComplete","makeClientCrop","onCropChange","percentCrop","this","getCroppedImg","croppedImageUrl","fileName","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","originWidth","originHeight","targetWidth","targetHeight","round","getContext","drawImage","x","y","resolve","reject","toBlob","blob","name","URL","revokeObjectURL","fileUrl","createObjectURL","setImageUrl","ruleOfThirds","onComplete","alt","PureComponent","AddForm","submitData","addingNews","setAddingNews","setHeader","setShortHeader","setTags","setText","editingNews","setEditingNews","img","setImg","Slide","direction","in","mountOnEnter","unmountOnExit","required","TextareaAutosize","Admin","addNews","FormData","append","editNews","deleteNews","content","bottom","right","currentNewsContent","Contacts","List","disablePadding","App","exact","path","CardsContainer","children","Boolean","hostname","initialState","combineReducers","action","store","createStore","rootReducer","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.d12070b1.chunk.js","sourcesContent":["import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    width: 380,\r\n    marginBottom: theme.spacing(2),\r\n    [theme.breakpoints.down (600)]: {\r\n      width: 300\r\n    },\r\n  },\r\n  media: {\r\n    height: 223,\r\n    [theme.breakpoints.down (600)]: {\r\n      height: 140\r\n    },\r\n  },\r\n}));","const API_URL = process.env.NODE_ENV === 'production' ? `${process.env.REACT_APP_API_URL}/api` : 'http://localhost:8000/api';\r\n    \r\nconst getTenCards = async currID => {\r\n  const url = `${API_URL}`;\r\n  const result = await fetch(url, {\r\n    method: 'GET',\r\n    headers: {\r\n      'CurrentId': `${currID}`\r\n    }\r\n  }); \r\n  return extractResult(result);\r\n};\r\n\r\nconst getCards = async token => {\r\n  const endpoint = '';\r\n  const url = `${API_URL}/admin/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  });\r\n  return extractResult(result);\r\n}; \r\n\r\nconst sendCard = async (formData, token) => {\r\n  const endpoint = 'admin/add';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n    },\r\n    body: formData\r\n  });\r\n  return extractResult(result);\r\n};\r\n\r\nconst editCard = async (formData, token) => {\r\n  const endpoint = 'admin/edit';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n    },\r\n    body: formData\r\n  });\r\n  return extractResult(result);\r\n};\r\n\r\nconst deleteCard = async (id, token) => {\r\n  const endpoint = 'admin/delete';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({id})\r\n  });\r\n  // return extractResult(result)\r\n  return result;  \r\n};\r\n\r\nconst getOneNews = async id => {\r\n  const endpoint = `news/${id}`;\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url);\r\n  return extractResult(result);\r\n};\r\n\r\nconst getHotNews = async () => {\r\n  const endpoint = 'hotnews';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url);\r\n  return extractResult(result);\r\n};\r\n\r\nconst getTagNews = async tag => {\r\n  const endpoint = `tags/${tag}`;\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url);\r\n  return extractResult(result);\r\n};\r\n\r\nconst loginQuery = async (data) => {\r\n  const endpoint = 'admin/login';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  });\r\n  return extractResult(result);\r\n};\r\n\r\nconst sendPhoto = async formData => {\r\n  const endpoint = 'photo/upload';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'PUT',\r\n    body: formData\r\n  });\r\n  return extractResult(result);\r\n};\r\n\r\nconst getPhoto = async () => {\r\n\r\n};\r\nconst extractResult = async result => {\r\n  const entity = await result.json();\r\n  const success = result.statusText === 'OK';\r\n  return { success, entity };\r\n};\r\n\r\nexport { \r\n  getCards,\r\n  getTenCards,\r\n  sendCard,\r\n  deleteCard, \r\n  editCard,\r\n  getOneNews,\r\n  getHotNews,\r\n  getTagNews,\r\n  loginQuery,\r\n  sendPhoto,\r\n  getPhoto\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\nconst useInfiniteScroll = callback => {\r\n  const [isFetching, setIsFetching] = useState(false);\r\n  const debounce = (func, delay) => {\r\n    let inDebounce;\r\n    return function() {\r\n      clearTimeout(inDebounce);\r\n      inDebounce = setTimeout(() => {\r\n        func.apply(this, arguments);\r\n      }, delay);\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', debounce(handleScroll, 500));\r\n    return () => window.removeEventListener('scroll', debounce(handleScroll, 500));\r\n  }, [handleScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!isFetching) return;\r\n    callback();\r\n  }, [callback, isFetching]);\r\n\r\n  function handleScroll() {\r\n    if (window.innerHeight + Math.max(\r\n      window.pageYOffset,\r\n      document.documentElement.scrollTop,\r\n      document.body.scrollTop\r\n    ) < document.documentElement.offsetHeight - 10 || isFetching) return;\r\n    setIsFetching(true);\r\n  }\r\n\r\n  return [isFetching, setIsFetching];\r\n};\r\n\r\nexport default useInfiniteScroll;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Card, CardActionArea, CardMedia, CardContent, Typography, Button} from '@material-ui/core';\r\nimport useStyles from './style';\r\nimport { getTenCards } from '../../helpers/apiHelpers';\r\nimport useInfiniteScroll from '../../helpers/useInfiniteScrollHelper';\r\n\r\nconst API_URL = process.env.NODE_ENV === 'production' ? `${process.env.REACT_APP_API_URL}` : 'http://localhost:8000';\r\n\r\nfunction Cards(props) {\r\n  const { cards, setCards } = props;\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [currId, setCurrId] = useState(-1);\r\n  const [isFetching, setIsFetching] = useInfiniteScroll(fetchMoreListItems);\r\n  const [newsLeft, setNewsLeft] = useState(true);\r\n\r\n  function fetchMoreListItems() {\r\n    const fetchingMoreCards = async (currId) => {\r\n      const result = await getTenCards(currId);\r\n      if (!result.entity.length) setNewsLeft(false);\r\n      if (result.success && result.entity.length) {\r\n        setIsFetching(false);\r\n        const newCards = cards.concat(result.entity);\r\n        setCards(newCards);\r\n        setCurrId(result.entity[result.entity.length - 1].id);\r\n      } else {\r\n        console.log('Something went wrong');\r\n      }\r\n    };\r\n    fetchingMoreCards(currId);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchStartingData = async currId => {\r\n      const result = await getTenCards(currId);\r\n      if (result.success) {\r\n        setCurrId(result.entity[result.entity.length - 1].id);\r\n        setCards(result.entity);\r\n        setIsLoading(false);\r\n      } else {\r\n        console.log('Something went wrong');\r\n      }\r\n    };\r\n    fetchStartingData(currId);\r\n  }, []); \r\n\r\n  if (isLoading) return <h1>Is Loading...</h1>;\r\n  \r\n  return(\r\n    <div style={{marginTop: '25px'}}>\r\n      {cards.map((value, id) => (\r\n        <div key={id} className={classes.items}>\r\n          <Card className={classes.card}>\r\n            <CardActionArea onClick={() => {\r\n              history.push(`/news/${value.id}`);\r\n            }}>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={`${API_URL}/${value.photo}`}\r\n                title=\"Contemplative Reptile\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {value.shortHeader}\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n          </Card>\r\n        </div>\r\n      ))}\r\n      {isFetching && newsLeft ? 'Fetching more cards' : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cards;","import { SELECT_CURRENT_NEWS } from '../actionsConsts';\r\n\r\nexport const setCurrentNews = currentNews => ({\r\n  type: SELECT_CURRENT_NEWS,\r\n  payload: currentNews,\r\n});","export const SELECT_CURRENT_NEWS = 'SELECT_CURRENT_NEWS';\r\n\r\nexport const ADD_CARDS = 'ADD_CARDS'; \r\n\r\nexport const ADD_HOT_NEWS = 'ADD_HOT_NEWS'; \r\n\r\nexport const ADD_ONE_CARD = 'ADD_ONE_CARD';","import { ADD_CARDS } from '../actionsConsts';\r\n\r\nexport const setCards = cards => {\r\n  return {\r\n    type: ADD_CARDS,\r\n    payload: cards,\r\n  };\r\n};","import React from 'react';\r\nimport Cards from './Cards';\r\nimport { connect } from 'react-redux';\r\nimport { setCurrentNews} from '../../store/currentNews/actions';\r\nimport { setCards } from '../../store/cards/actions';\r\n\r\nfunction CardsContainer(props) {\r\n  const { cards, setCards, setCurrentNews } = props;\r\n  return (\r\n    <Cards \r\n      cards={cards}\r\n      setCards={setCards}\r\n      setCurrentNews={setCurrentNews}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.cards.cards,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  setCurrentNews,\r\n  setCards,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(CardsContainer);","import { makeStyles } from '@material-ui/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  list: {\r\n    width: 250,\r\n  },\r\n  fullList: {\r\n    width: 'auto',\r\n  },\r\n  a: {\r\n    textDecoration: 'none'\r\n  }\r\n}));","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\t\r\nimport Link from '@material-ui/core/Link'\t\r\nimport useStyles from './style';\r\nimport Email from '../../email.png'\r\nimport Telegram from '../../telegram-icon.png'\r\nimport { ListItemIcon } from '@material-ui/core';\r\n\r\n\r\nconst SideList = (props) => {\r\n  const { toggleDrawer } = props;\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div\r\n      className={classes.list}\r\n      role=\"presentation\"\r\n      onClick={toggleDrawer(false)}\r\n      onKeyDown={toggleDrawer(false)}\r\n    >\r\n      <ListItem button component='a' onClick={() => history.push('/')}>\r\n        <ListItemText primary='Домой'/>\r\n      </ListItem>\r\n      <ListItem button component='a' onClick={() => history.push('/news/tag/world')}>\r\n        <ListItemText primary='Мир'/>\r\n      </ListItem>\r\n      <ListItem button component='a' onClick={() => history.push('/news/tag/politics')}>\r\n        <ListItemText primary='Политика'/>\r\n      </ListItem>\r\n      <ListItem button component='a' onClick={() => history.push('/news/tag/ukraine')}>\r\n        <ListItemText primary='Украина'/>\r\n      </ListItem>\r\n      <ListItem button component='a' onClick={() => history.push('/news/tag/russia')}>\r\n        <ListItemText primary='Россия'/>\r\n      </ListItem>\r\n      <ListItem button component='a' onClick={() => history.push('/news/tag/technology')}>\r\n        <ListItemText primary='Технологии'/>\r\n      </ListItem>\r\n      <ListItem component='a'>\r\n        <a href='mailto::hrealmainnews@gmail.com' target='__blank'>\r\n          <img src={Email} height='45' width='35'/>\r\n        </a>\r\n        <div style={{marginLeft: 15}}/>\r\n        <a className={classes.a} href='https://t.me/realmainnews' target='__blank'>\r\n          <img  src={Telegram} height='30' width='30' />\r\n        </a>\r\n      </ListItem>\r\n    </div>\r\n  );\r\n};\r\nexport default SideList;","import React from 'react';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport SideList from './SideList';\r\n\r\nfunction SideDrawer(props) {\r\n  const { sideDrawerOpen, toggleDrawer } = props;\r\n  return (\r\n    <div>\r\n      <Drawer open={sideDrawerOpen} onClose={toggleDrawer(false)}>\r\n        {<SideList toggleDrawer={toggleDrawer}/>}\r\n      </Drawer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SideDrawer;","import { makeStyles, fade } from '@material-ui/core/styles';\r\nimport { flexbox } from '@material-ui/system';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n  },\r\n  toolbar: {\r\n    backgroundColor: '#000000',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    maxHeight: '56px',\r\n    [theme.breakpoints.down ('xs')]: {\r\n      justifyContent: 'space-between'\r\n    },\r\n  },\r\n  items: {\r\n    display: 'flex',\r\n    [theme.breakpoints.down ('xs')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  mobileItem: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up ('sm')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  bottomLine: {\r\n    marginRight: 'auto',\r\n    marginLeft: 'auto',\r\n    [theme.breakpoints.up ('lg')]: {\r\n      width: '60%'\r\n    },\r\n    [theme.breakpoints.down ('lg')]: {\r\n      width: '65%'\r\n    },\r\n    [theme.breakpoints.down ('md')]: {\r\n      width: '80%'\r\n    },\r\n    [theme.breakpoints.down (950)]: {\r\n      width: '90%'\r\n    },\r\n    [theme.breakpoints.down (850)]: {\r\n      width: '95%'\r\n    },\r\n    [theme.breakpoints.down (800)]: {\r\n      width: '95%'\r\n    },\r\n    [theme.breakpoints.down (750)]: {\r\n      width: '95%'\r\n    },\r\n    [theme.breakpoints.down (700)]: {\r\n      width: '80%'\r\n    },\r\n    [theme.breakpoints.down ('xs')]: {\r\n      width: '75%'\r\n    },\r\n    [theme.breakpoints.down (550)]: {\r\n      width: '80%'\r\n    },\r\n    [theme.breakpoints.down (450)]: {\r\n      width: '90%'\r\n    },\r\n    borderBottom: '2px solid black',\r\n    marginTop: '85px',\r\n  }\r\n}));","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AppBar, Toolbar, ListItem, ListItemText, IconButton } from '@material-ui/core';\r\nimport SideDrawer from '../SideDrawer/SideDrawer';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport useStyle from './style';\r\nimport logo from '../../logo2.png';\r\n\r\nconst map = new Map([]);\r\nmap.set('world', 'Мир')\r\n.set('politics', 'Политика')\r\n.set('ukraine', 'Украина')\r\n.set('russia', 'Россия')\r\n.set('technology', 'Технологии')\r\n\r\nexport default function AppToolBar(props) {\r\n  const { oneCard } = props;\r\n  const classes = useStyle();\r\n  const history = useHistory();\r\n  const [sideDrawerOpen, setSideDrawerOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [tag, setTag] = useState(null)\r\n  const [date, setDate] = useState(null)\r\n\r\n  const toggleDrawer = open => event => {\r\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\r\n      return;\r\n    }\r\n    setSideDrawerOpen(open);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (oneCard) {\r\n      if (history.location.pathname.match(/news\\/([0-9])+/)) {\r\n        const fullDate = new Date(oneCard.createdAt);\r\n        const date = fullDate.toLocaleDateString().split('/').join('.')\r\n        setDate(date)\r\n        setTag(oneCard.tags)\r\n      } else {\r\n        setTag(null)\r\n        setDate(null)\r\n      }\r\n    }\r\n  }, [history.location, oneCard])\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar className={classes.toolbar}>\r\n          <div className={classes.items}>\r\n            <ListItem button component='button'  onClick={() => history.push('/')}>\r\n\t\t\t\t      <IconButton>\r\n                <img src={logo} width='42' height='25'></img>\r\n              </IconButton>\r\n            </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/world')}>\r\n\t\t\t\t      <ListItemText primary='Мир'/>\r\n\t\t\t      </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/politics')}>\r\n\t\t\t\t    <ListItemText primary='Политика'/>\r\n\t\t\t        </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/ukraine')}>\r\n\t\t\t\t      <ListItemText primary='Украина'/>\r\n\t\t\t      </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/russia')}>\r\n\t\t\t\t      <ListItemText primary='Россия'/>\r\n\t\t\t      </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/technology')}>\r\n\t\t\t\t      <ListItemText primary='Технологии'/>\r\n\t\t\t      </ListItem>\r\n          </div>\r\n          <div className={classes.mobileItem}>\r\n            <ListItem button component='button'  onClick={() => {setSideDrawerOpen(prevState => !prevState)}}>\r\n              <MenuIcon fontSize='large'/>\r\n            </ListItem>\r\n          </div>\r\n          <div className={classes.mobileItem}>\r\n            <ListItem button component='button'  onClick={() => history.push('/')}>\r\n\t\t\t\t      <IconButton>\r\n                <img src={logo} width='42' height='25'></img>\r\n              </IconButton>\r\n            </ListItem>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SideDrawer toggleDrawer={toggleDrawer} sideDrawerOpen={sideDrawerOpen}/>\r\n      <div className={classes.bottomLine}>\r\n        <div>\r\n          {date} {date ? `,` : null} {map.get(tag)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport AppToolBar from './AppToolBar';\r\n\r\nfunction AppToolBarContainer(props) {\r\n  const { cards, oneCard } = props;\r\n  return (\r\n    <AppToolBar \r\n      cards={cards}\r\n      oneCard={oneCard}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.cards.cards,\r\n  oneCard: state.oneCard.oneCard\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps)(AppToolBarContainer);","import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    marginTop: '70px'\r\n  },\r\n  card: {\r\n    display: 'block',\r\n    width: 280,\r\n    height: 103,\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n}));","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Card, CardActionArea, CardContent, Typography} from '@material-ui/core';\r\nimport useStyle from './style';\r\n\r\n\r\nfunction HotNews(props) {\r\n  const { hotNews, setCurrentNews } = props;\r\n  const history = useHistory();\r\n  const classes = useStyle();\r\n\r\n  return (\r\n    <div>\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n              Еще новости\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n      {\r\n        hotNews.map((value, id) => (    \r\n          <div key={id}>\r\n            <Card className={classes.card}>\r\n              <CardActionArea onClick={() => {\r\n                history.push(`/news/${value.id}`); \r\n              }}>\r\n                <CardContent>\r\n                  <Typography gutterBottom variant=\"h5\" component=\"h2\" >\r\n                    {value.shortHeader}\r\n                  </Typography>\r\n                </CardContent>\r\n              </CardActionArea>\r\n            </Card>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nexport default HotNews;","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport HotNews from './HotNews';\r\nimport { connect } from 'react-redux';\r\nimport { setCurrentNews } from '../../store/currentNews/actions';\r\n\r\nfunction HotNewsContainer(props) {\r\n  const { hotNews, setCurrentNews } = props;\r\n  const location = useLocation();\r\n  return (\r\n    <HotNews \r\n      key={location.key}\r\n      hotNews={hotNews}\r\n      setCurrentNews={setCurrentNews}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.cards.cards,\r\n  hotNews: state.hotNews.hotNews\r\n});\r\n  \r\nconst mapActionsToProps = {\r\n  setCurrentNews,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(HotNewsContainer);","import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  container: {\r\n    display: 'flex',\r\n    marginTop: '25px',\r\n    justifyContent: 'center',\r\n  },  \r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    // justifyContent: 'center',\r\n    marginRight: 40,\r\n    [theme.breakpoints.down ('xs')]: {\r\n      marginRight: '0px',\r\n    },\r\n  },\r\n  card: {\r\n    width: 380,\r\n    maxWidth: 380,\r\n    marginBottom: theme.spacing(2),\r\n    [theme.breakpoints.down (600)]: {\r\n      width: 300\r\n    },\r\n  },\r\n  media: {\r\n    height: 223,\r\n    [theme.breakpoints.down (600)]: {\r\n      height: 176\r\n    },\r\n  },\r\n  hotNews: {\r\n    marginLeft: '30px',\r\n    [theme.breakpoints.down (750)]: {\r\n      marginLeft: '0px',\r\n      display: 'none',\r\n    },\r\n  }\r\n}));","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Card, CardMedia, CardContent, Typography} from '@material-ui/core';\r\nimport HotNewsContainer from '../HotNews/HotNewsContainer';\r\nimport useStyles from './style';\r\nimport { getOneNews, getHotNews } from '../../helpers/apiHelpers';\r\n\r\n\r\nconst API_URL = process.env.NODE_ENV === 'production' ? `${process.env.REACT_APP_API_URL}` : 'http://localhost:8000';\r\n\r\nfunction CurrentNews(props) {\r\n  const classes = useStyles();\r\n  const params = useParams();\r\n  const { id } = params;\r\n  const { setHotNews, currentNews, setCurrentNews, oneCard, setOneCard } = props;\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const fetchOneNews = async id => {\r\n      try {\r\n        const [oneNews, hotNews] = await Promise.all([getOneNews(id), getHotNews()]);\r\n        if (oneNews.success && hotNews.success) {\r\n          setHotNews(hotNews.entity);\r\n          setOneCard(oneNews.entity)\r\n          setIsLoading(false);\r\n        } else {\r\n          console.log('Something went wrong');\r\n        }\r\n      } catch(error) {\r\n        console.log('Request error: ');\r\n        console.log(error);\r\n      }\r\n    }; \r\n    fetchOneNews(id);\r\n  }, []);\r\n\r\n  if (isLoading) return <div>Is Loading...</div>;\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <div className={classes.items}>\r\n        <Card className={classes.card}>\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={`${API_URL}/${oneCard.photo}`}\r\n            title=\"Contemplative Reptile\"\r\n          />\r\n        </Card>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{whiteSpace: 'pre-line'}}>\r\n              {oneCard.header}\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography variant=\"body1\" color=\"textSecondary\" component=\"p\" style={{whiteSpace: 'pre-line'}}>\r\n              {oneCard.text}\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n      <div className={classes.hotNews}>\r\n        <HotNewsContainer/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CurrentNews;","import { ADD_HOT_NEWS } from '../actionsConsts';\r\n\r\nexport const setHotNews = hotNews => ({\r\n  type: ADD_HOT_NEWS,\r\n  payload: hotNews\r\n});","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport CurrentNews from './CurrentNews';\r\nimport { connect } from 'react-redux';\r\nimport { setCards } from '../../store/cards/actions';\r\nimport { setHotNews } from '../../store/hotNews/actions';\r\nimport { setCurrentNews } from '../../store/currentNews/actions';\r\nimport { setOneCard } from '../../store/oneCard//actions'\r\n\r\nfunction CurrentNewsContainer(props) {\r\n  const location = useLocation();\r\n  const { setHotNews, currentNews, oneCard, setOneCard } = props;\r\n  return (\r\n    <CurrentNews \r\n      key={location.key}\r\n      setHotNews={setHotNews}\r\n      currentNews={currentNews}\r\n      setCurrentNews={setCurrentNews}\r\n      oneCard={oneCard}\r\n      setOneCard={setOneCard}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cards: state.cards.cards,\r\n    currentNews: state.currentNews.currentNews,\r\n    hotNews: state.hotNews.hotNews,\r\n    oneCard: state.oneCard.oneCard\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = {\r\n  setCurrentNews,\r\n  setCards,\r\n  setHotNews,\r\n  setOneCard\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(CurrentNewsContainer);\r\n","import { ADD_ONE_CARD } from '../actionsConsts';\r\n\r\nexport const setOneCard = oneCard => ({\r\n  type: ADD_ONE_CARD,\r\n  payload: oneCard\r\n});","import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    marginTop: '25px',\r\n  },\r\n  card: {\r\n    width: 380,\r\n    maxWidth: 380,\r\n    marginBottom: theme.spacing(2),\r\n    [theme.breakpoints.down (600)]: {\r\n      width: 300\r\n    },\r\n  },\r\n  media: {\r\n    height: 223,\r\n    [theme.breakpoints.down (600)]: {\r\n      height: 176\r\n    },\r\n  },\r\n}));","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { Card, CardActionArea, CardMedia, CardContent, Typography } from '@material-ui/core';\r\nimport { getTagNews } from '../../helpers/apiHelpers';\r\nimport useStyles from './style';\r\n\r\nconst API_URL = process.env.NODE_ENV === 'production' ? `${process.env.REACT_APP_API_URL}` : 'http://localhost:8000';\r\n\r\nexport default function TagNews(props) {\r\n  const { cards, setCards, setCurrentNews } = props;\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    const fetchTagNews = async tag => {\r\n      const result = await getTagNews(tag);\r\n      if (result.success) {\r\n        setCards(result.entity);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchTagNews(params.tag);\r\n  }, []);\r\n\r\n  if (isLoading) return <h1 style={{marginTop: '70px'}}>Is Loading...</h1>;\r\n  \r\n  return (\r\n    <div>\r\n      {\r\n        cards.map((value) => (\r\n          <div key={value.id} className={classes.items}>\r\n            <Card className={classes.card}>\r\n              <CardActionArea onClick={() => {\r\n                history.push(`/news/${value.id}`);  \r\n              }}>\r\n                <CardMedia\r\n                  className={classes.media}\r\n                  image={`${API_URL}/${value.photo}`}\r\n                  title=\"Contemplative Reptile\"\r\n                />\r\n                <CardContent>\r\n                  <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                    {value.shortHeader}\r\n                  </Typography>\r\n                </CardContent>\r\n              </CardActionArea>\r\n            </Card>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport TagNews from './TagNews';\r\nimport { connect } from 'react-redux';\r\nimport { setCurrentNews} from '../../store/currentNews/actions';\r\nimport { setHotNews } from '../../store/hotNews/actions';\r\nimport { setCards } from '../../store/cards/actions';\r\n\r\nfunction TagNewsContainer(props) {\r\n  const { cards, setCards, setCurrentNews } = props;\r\n  const location = useLocation();\r\n  return (\r\n    <TagNews \r\n      cards={cards}\r\n      setCards={setCards}\r\n      key={location.key}\r\n      setCurrentNews={setCurrentNews}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.cards.cards,\r\n  hotNews: state.hotNews.hotNews\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  setCurrentNews,\r\n  setCards,\r\n  setHotNews\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(TagNewsContainer);","const getToken = () => {\r\n  return localStorage.getItem('token');\r\n};\r\n\r\nconst setToken = token => {\r\n  localStorage.setItem('token', token);\r\n  return true;\r\n};\r\n\r\nexport {\r\n  setToken,\r\n  getToken\r\n};","import { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nexport default makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  elements: {\r\n    marginTop: theme.spacing(25),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n    padding: theme.spacing(0, 2, 0, 2)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#000000'\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  input: {\r\n    marginBottom: theme.spacing(1)\r\n  }\r\n}));","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  TextField,\r\n  Link,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n  CssBaseline,\r\n} from '@material-ui/core';\r\n\r\nimport PermIdentity from '@material-ui/icons/PermIdentity';\r\nimport { setToken } from '../../../helpers/tokenHelpers';\r\nimport { loginQuery } from '../../../helpers/apiHelpers';\r\n\r\nimport useStyles from './style';\r\n\r\nexport default function AdminLogin () {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (username, password, e) => {\r\n    setSubmitting(true);\r\n    const data = { username, password };\r\n    try {\r\n      const result = await loginQuery(data);\r\n      if (result.success) {\r\n        if (result.entity.token) {\r\n          setToken(result.entity.token);\r\n          setRedirect(true);\r\n        }\r\n      } else {\r\n        setSubmitting(false);\r\n        setError(result.entity.error);\r\n      }\r\n    } catch (error) {\r\n      setSubmitting(false);\r\n      setError('Some error');\r\n    }\r\n  };\r\n\r\n  if (redirect) {\r\n    return <Redirect to='/admin' />;\r\n  }\r\n\r\n  return (\r\n    <Container component='main' maxWidth='xs'>\r\n      {\r\n        error\r\n      }\r\n      <CssBaseline />\r\n      <div className={classes.elements}>\r\n        <Avatar>\r\n          <PermIdentity />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n\t\t\tSing In\r\n        </Typography>\r\n        <form className={classes.form}>\r\n          <Grid className={classes.input}>\r\n            <TextField\r\n              id='username'\r\n              label='Login'\r\n              value={username}\r\n              onChange={({target}) => setUsername(target.value)}\r\n              autoFocus\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid className={classes.input}>\r\n            <TextField\r\n              id='password'\r\n              label='Password'\r\n              type='password'\r\n\t\t\t  value={password}\r\n\t\t\t  onChange={({target}) => setPassword(target.value)}\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid>\r\n            <Button className={classes.submit}\r\n              type='submit'\r\n              fullWidth\r\n              color='primary'\r\n\t\t\t  variant='contained'\r\n\t\t\t  onClick={(e) => {\r\n                e.preventDefault();\r\n                handleSubmit(username, password);\r\n              }}\r\n            >\r\n              {\r\n                submitting ? \r\n                  'Logging in...' :\r\n                  'Log In'\r\n              }\r\n            </Button>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import ReactDOM from 'react-dom';\r\nimport React, { PureComponent } from 'react';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nclass ImageCrop extends PureComponent {\r\n  state = {\r\n    src: null,\r\n    crop: {\r\n      unit: '%',\r\n      width: 30,\r\n      aspect: 16 / 9,\r\n    },\r\n  };\r\n\r\n  onSelectFile = e => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n        \r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () =>{\r\n        this.setState({ src: reader.result });}\r\n      );\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  onImageLoaded = image => {\r\n    this.imageRef = image;\r\n  };\r\n\r\n  onCropComplete = crop => {\r\n    this.makeClientCrop(crop);\r\n  };\r\n\r\n  onCropChange = (crop, percentCrop) => {\r\n    // You could also use percentCrop:\r\n    // this.setState({ crop: percentCrop });\r\n    this.setState({ crop });\r\n  };\r\n\r\n  async makeClientCrop(crop) {\r\n    if (this.imageRef && crop.width && crop.height) {\r\n      const croppedImageUrl = await this.getCroppedImg(\r\n        this.imageRef,\r\n        crop,\r\n        'newFile.png'\r\n      );\r\n      this.setState({ croppedImageUrl });\r\n    }\r\n  }\r\n\r\n  getCroppedImg(image, crop, fileName) {\r\n    const canvas = document.createElement('canvas');\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    const originWidth = crop.width * scaleX;\r\n    const originHeight = crop.height * scaleY;\r\n    let maxWidth = 1200, maxHeight = 1200 / (16 / 9);\r\n    let targetWidth = originWidth,\r\n      targetHeight = originHeight;\r\n    if (originWidth > maxWidth || originHeight > maxHeight) {\r\n      if (originWidth / originHeight > maxWidth / maxHeight) {\r\n        targetWidth = maxWidth;\r\n        targetHeight = Math.round(maxWidth * (originHeight / originWidth));\r\n      } else {\r\n        targetHeight = maxHeight;\r\n        targetWidth = Math.round(maxHeight * (originWidth / originHeight));\r\n      }\r\n    }\r\n    // set canvas size\r\n    canvas.width = targetWidth;\r\n    canvas.height = targetHeight;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      targetWidth,\r\n      targetHeight\r\n    );\r\n\r\n    return new Promise((resolve, reject) => {\r\n      canvas.toBlob(blob => {\r\n        if (!blob) {\r\n          console.error('Canvas is empty');\r\n          return;\r\n        }\r\n        blob.name = fileName;\r\n        window.URL.revokeObjectURL(this.fileUrl);\r\n        this.fileUrl = window.URL.createObjectURL(blob);\r\n        this.props.setImageUrl(blob);\r\n        resolve(this.fileUrl);\r\n      }, 'image/png', 1);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { crop, croppedImageUrl, src } = this.state;\r\n    return (\r\n      <div>\r\n        <div>\r\n          <input type=\"file\" onChange={this.onSelectFile}/>\r\n        </div>\r\n        {src && (\r\n          <ReactCrop\r\n            src={src}\r\n            crop={crop}\r\n            ruleOfThirds\r\n            onImageLoaded={this.onImageLoaded}\r\n            onComplete={this.onCropComplete}\r\n            onChange={this.onCropChange}\r\n          />\r\n        )}\r\n        {croppedImageUrl && (\r\n          <img alt=\"Crop\" style={{ maxWidth: '100%' }} src={croppedImageUrl} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageCrop;\r\n","import React, { useState, useRef } from 'react'; \r\nimport { Container, Typography, TextField, Slide, Grid, CssBaseline, Button, TextareaAutosize  } from '@material-ui/core';\r\n// import useStyles from './  style';\r\nimport ImageCrop from '../ImageCrop/ImageCrop';\r\nimport { getToken } from '../../../helpers/tokenHelpers';\r\nimport './index.css';\r\n\r\nexport default function AddForm(props) {\r\n  const { value, submitData, addingNews, setAddingNews } = props;\r\n  // const classes = useStyles(); \r\n  const [header, setHeader] = useState(value.header);\r\n  const [shortHeader, setShortHeader] = useState(value.shortHeader);\r\n  const [tags, setTags] = useState(value.tags);\r\n  const [text, setText] = useState(value.text);\r\n  const [token, setToken] = useState(getToken());\r\n  const [editingNews, setEditingNews] = useState(false);\r\n  const [img, setImg] = useState(null);\r\n  \r\n  const setImageUrl = url => {\r\n    setImg(url);\r\n  };\r\n  return (\r\n    <Container component='main'>\r\n      <CssBaseline/>\r\n      <button onClick={() => {\r\n        setEditingNews((prevState) => !prevState);\r\n      }}>\r\n        Edit news\r\n      </button>\r\n      <button onClick={() => {\r\n        submitData(value.id, shortHeader ,header, tags, text, 'delete', img, token);\r\n      }\r\n      }>\r\n        Delete news\r\n      </button>\r\n      <Slide \r\n        direction='up' \r\n        in={editingNews || addingNews} \r\n        mountOnEnter \r\n        unmountOnExit\r\n      >\r\n        <div className='root'>\r\n          <Typography>\r\n            Add New Marker \r\n          </Typography>\r\n          <button onClick={() => {\r\n            addingNews ?\r\n              setAddingNews(false) :\r\n              setEditingNews(false);\r\n          }}>Close</button>\r\n          <form className='form'>\r\n            <Grid>\r\n              <ImageCrop setImageUrl={setImageUrl}/>\r\n            </Grid>\r\n            <Grid>\r\n              <TextField\r\n                className='input'\r\n                label='Short Header'\r\n                onChange={({target}) => setShortHeader(target.value)}\r\n                value={shortHeader}\r\n                autoFocus\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid>\r\n              <TextField\r\n                className='input'\r\n                label='Header'\r\n                onChange={({target}) => setHeader(target.value)}\r\n                value={header}\r\n                autoFocus\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid>\r\n              <TextField\r\n                className='input'\r\n                label='Tags'\r\n                onChange={({target}) => setTags(target.value)}\r\n                value={tags}\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid>\r\n              <TextareaAutosize\r\n                className='input'\r\n                label='Text'\r\n                onChange={({target}) => setText(target.value)}\r\n                value={text}\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid>\r\n              {\r\n                addingNews ? \r\n                  <Button \r\n                    className='input'\r\n                    color='secondary' \r\n                    variant='contained' \r\n                    onClick={() => {\r\n                      submitData(value.id, shortHeader,header, tags, text, 'add', img, token);\r\n                      setShortHeader('');\r\n                      setHeader('');\r\n                      setTags('');\r\n                      setText('');\r\n                      setAddingNews(false);\r\n                    }}>\r\n\t\t\t\t\t\t\t\tSave Info\r\n                  </Button> \r\n                  :\r\n                  <Button \r\n                    className='input'\r\n                    color='secondary' \r\n                    variant='contained' \r\n                    onClick={() => {\r\n                      submitData(value.id, shortHeader ,header, tags, text, 'edit', img, token);\r\n                      setEditingNews(false);\r\n                    }}>\r\n\t\t\t\t\t\t\t\tEdit Info\r\n                  </Button> \r\n              }\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Slide>\r\n    </Container>\r\n  );  \r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Form from '../Form/Form';\r\n// import Info from '../Info/Info'\r\nimport { sendCard, getCards, editCard, deleteCard, sendPhoto } from '../../../helpers/apiHelpers';\r\nimport { getToken } from '../../../helpers/tokenHelpers';\r\n\r\nconst API_URL = process.env.NODE_ENV === 'production' ? `${process.env.REACT_APP_API_URL}` : 'http://localhost:8000';\r\n\r\n\r\nexport default function Admin() {\r\n  const [isLoading ,setIsLoading] = useState(true);\r\n  const [cards, setCards] = useState(null);\r\n  const [addingNews, setAddingNews] = useState(false);\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const addNews = async (shortHeader,header, tags, text, photo, token) => {\r\n    const formData = new FormData();\r\n    formData.append('shortHeader', shortHeader);\r\n    formData.append('header', header);\r\n    formData.append('tags', tags);\r\n    formData.append('text', text);\r\n    formData.append('photo', photo);\r\n    try {\r\n      const result = await sendCard(formData, token);\r\n    } catch (error) {\r\n      console.log('API call error:', error);\r\n    }\r\n  };\r\n\r\n  const editNews = async (id, shortHeader, header, tags, text, photo, token) => {\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('shortHeader', shortHeader);\r\n    formData.append('header', header);\r\n    formData.append('tags', tags);\r\n    formData.append('text', text);\r\n    formData.append('photo', photo);\r\n    try {\r\n      const result = await editCard(formData, token);\r\n    } catch (error) {\r\n      console.log('API call error:', error);\r\n    }\r\n  };\r\n\r\n  const deleteNews = async (id, token) => {\r\n    try {\r\n      const result = await deleteCard(id, token);\r\n    } catch (error) {\r\n      console.log('API call error:', error);\r\n    }\r\n  };\r\n\r\n  const submitData = (id, shortHeader, header, tags, text, type, photo, token) => {\r\n    if (type === 'add') {\r\n      addNews(shortHeader, header, tags, text, photo, token);\r\n    }\r\n    if (type === 'edit') {\r\n      editNews(id ,shortHeader ,header, tags, text, photo, token);\r\n    }\r\n    if (type === 'delete') {\r\n      deleteNews(id, token);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = getToken();\r\n    if (!token) setRedirect(true); \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchStartingData = async () => {\r\n      const result = await getCards(getToken());\r\n      if (result.success) {\r\n        setCards(result.entity);\r\n        setIsLoading(false);\r\n      } else {\r\n        console.log('Something went wrong');\r\n      }\r\n    };\r\n    fetchStartingData();    \r\n  }, []); \r\n\r\n  if (isLoading) return <h1>Is Loading...</h1>;\r\n\r\n  if (redirect) return <Redirect to='/adminlogin'/>;\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => setAddingNews(prevState => !prevState)}>Add news</button>\r\n      <Form \r\n        submitData={submitData} \r\n        value={{id: null, shortHeader: '', header: '', tags: '', text: ''}} \r\n        addingNews={addingNews}\r\n        setAddingNews={setAddingNews}\r\n      />\r\n      {\r\n        cards.map((value) => (\r\n          <div key={value.id}>\r\n            <div style={{display: 'flex', alignItems: 'center '}}>\r\n              <img src={`${API_URL}/${value.photo}`} height='100' width='100'/>\r\n              <p>{value.shortHeader} </p>\r\n              <h2>{value.header} </h2>\r\n              <p>{value.text} </p>\r\n            </div>\r\n            <Form submitData={submitData} value={value} />\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  content: {\r\n      position: 'fixed',\r\n      display: 'flex',\r\n      bottom: 10,\r\n      right: 40,\r\n      [theme.breakpoints.down (600)]: {\r\n        display: 'none'\r\n      },\r\n      [theme.breakpoints.down (700)]: {\r\n        display: 'none'\r\n      },\r\n      [theme.breakpoints.down (1000)]: {\r\n        right: 0\r\n      },\r\n  },\r\n  list: {\r\n    display: 'flex'\r\n  },\r\n  button: {\r\n    fontSize: '3em'\r\n  },\r\n  currentNewsContent: {\r\n    position: 'fixed',\r\n      bottom: 10,\r\n      right: 0,\r\n      [theme.breakpoints.up (1100)]: {\r\n        right: 30,\r\n      },\r\n      [theme.breakpoints.down (1000)]: {\r\n        display: 'none'\r\n      },\r\n  }\r\n}));","import React from 'react'\r\nimport useStyles from './style'\r\nimport { Link, ListItem, List } from '@material-ui/core'\r\nimport Email from '@material-ui/icons/Email'\r\nimport Telegram from '../../telegram-icon.png'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nexport default function Contacts() {\r\n    const classes = useStyles()\r\n    const history = useHistory()\r\n\r\n    return (\r\n        <div className={(history.location.pathname.match(/news\\/([0-9])+/)) ? classes.currentNewsContent : classes.content}>\r\n            <List className={classes.list} disablePadding>\r\n                <ListItem  button component='a' href='mailto:realmainnews@gmail.com' target='__blank'>\r\n                    <Email className={classes.button}/>\r\n                </ListItem>\r\n                <ListItem button component='a' href='https://t.me/realmainnews' target='__blank'>\r\n                    <img  src={Telegram} height='45' width='45'/>\r\n                </ListItem>\r\n            </List>\r\n        </div>\r\n    )\r\n}","import React, { Fragment } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport './App.css';\r\nimport CardsContainer from '../Cards/CardsContainer';\r\nimport AppToolBarContainer from '../AppToolBar/AppToolBarContainer';\r\nimport CurrentNewsContainer from '../CurrentNews/CurrentNewsContainer';\r\nimport TagNewsContainer from '../TagNews/TagNewsContainer';\r\nimport AdminLogin from '../AdminComponents/AdminLogin/AdminLogin';\r\nimport Admin from '../AdminComponents/Admin/Admin';\r\nimport Contacts from '../Contacts/Contacts'\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path='/admin' component={Admin}/>\r\n          <Route exact path='/adminlogin' component={AdminLogin}/>\r\n          <Fragment>\r\n            <AppToolBarContainer/>\r\n            <Contacts/>\r\n            <Route exact path='/' component={CardsContainer}/>\r\n            <Route exact path='/news/:id' children={<CurrentNewsContainer/>}/>\r\n            <Route exact path='/news/tag/:tag' children={<TagNewsContainer/>}/>\r\n          </Fragment>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { SELECT_CURRENT_NEWS } from '../actionsConsts';\r\n\r\nconst initialState = {\r\n  currentNews: null,\r\n};\r\n\r\nexport const currentNewsReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n  case SELECT_CURRENT_NEWS: \r\n    return {\r\n      ...state, \r\n      currentNews: action.payload[0]\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n};","import { ADD_CARDS } from '../actionsConsts';\r\n\r\nconst initialState = {\r\n  cards: null\r\n};\r\n\r\nexport const setCardsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case ADD_CARDS:\r\n    return {\r\n      ...state,\r\n      cards: action.payload\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n};","import { ADD_HOT_NEWS } from '../actionsConsts';\r\n\r\nconst initialState = {\r\n  hotNews: null\r\n};\r\n\r\nexport const hotNewsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case ADD_HOT_NEWS:\r\n    return {\r\n      ...state,\r\n      hotNews: action.payload\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n};","import { ADD_ONE_CARD } from '../actionsConsts';\r\n\r\nconst initialState = {\r\n  oneCard: null\r\n};\r\n\r\nexport const oneCardReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case ADD_ONE_CARD:\r\n    return {\r\n      ...state,\r\n      oneCard: action.payload\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport { currentNewsReducer } from './currentNews/reducer';\r\nimport { setCardsReducer } from './cards/reducer'; \r\nimport { hotNewsReducer } from './hotNews/reducer';\r\nimport { oneCardReducer } from './oneCard/reducer';\r\n\r\nexport default combineReducers({\r\n  currentNews: currentNewsReducer,\r\n  cards: setCardsReducer,\r\n  hotNews: hotNewsReducer,\r\n  oneCard: oneCardReducer,\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport rootReducer from './store/reducers';\r\n\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\n\r\nconst store = createStore(rootReducer); \r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>, \r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/telegram-icon.7ed2f971.png\";","module.exports = __webpack_public_path__ + \"static/media/logo2.eb4dc06b.png\";","module.exports = __webpack_public_path__ + \"static/media/email.418f73d8.png\";"],"sourceRoot":""}
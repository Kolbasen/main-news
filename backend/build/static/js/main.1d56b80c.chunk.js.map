{"version":3,"sources":["components/Cards/style.js","helpers/apiHelpers.js","helpers/useInfiniteScrollHelper.js","components/Cards/Cards.js","store/currentNews/actions.js","store/actionsConsts.js","store/hotNews/actions.js","store/cards/actions.js","components/Cards/CardsContainer.js","components/AppToolBar/style.js","components/AppToolBar/AppToolBar.js","components/HotNews/style.js","components/HotNews/HotNews.js","components/HotNews/HotNewsContainer.js","components/CurrentNews/style.js","components/CurrentNews/CurrentNews.js","components/CurrentNews/CurrentNewsContainer.js","components/TagNews/style.js","components/TagNews/TagNews.js","components/TagNews/TagNewsContainer.js","helpers/tokenHelpers.js","components/AdminComponents/AdminLogin/style.js","components/AdminComponents/AdminLogin/AdminLogin.js","components/AdminComponents/ImageCrop/ImageCrop.js","components/AdminComponents/Form/Form.js","components/AdminComponents/Admin/Admin.js","components/App/App.js","serviceWorker.js","store/currentNews/reducer.js","store/cards/reducer.js","store/hotNews/reducer.js","store/reducers.js","index.js"],"names":["makeStyles","theme","items","display","flexDirection","justifyContent","alignItems","card","width","marginBottom","spacing","media","height","API_URL","process","getTenCards","currID","a","url","fetch","method","headers","result","extractResult","getCards","token","console","log","sendCard","formData","body","editCard","deleteCard","id","JSON","stringify","getOneNews","endpoint","getHotNews","getTagNews","tag","loginQuery","data","json","entity","success","statusText","useInfiniteScroll","callback","useState","isFetching","setIsFetching","debounce","func","delay","inDebounce","clearTimeout","setTimeout","apply","arguments","handleScroll","window","innerHeight","Math","max","pageYOffset","document","documentElement","scrollTop","offsetHeight","useEffect","addEventListener","removeEventListener","Cards","props","cards","setCards","setCurrentNews","history","useHistory","classes","useStyles","isLoading","setIsLoading","currId","setCurrId","length","setNewsLeft","newCards","concat","fetchingMoreCards","newsLeft","fetchStartingData","style","marginTop","map","value","key","className","Card","CardActionArea","onClick","push","CardMedia","image","photo","title","CardContent","Typography","gutterBottom","variant","component","shortHeader","type","payload","setHotNews","hotNews","mapActionsToProps","connect","state","root","flex","toolbar","backgroundColor","menuButton","marginRight","breakpoints","up","AppToolBar","useStyle","AppBar","position","Toolbar","ListItem","button","ListItemText","primary","HotNews","location","useLocation","container","useParams","setCard","Promise","all","oneNews","fetchOneNews","header","color","text","marginLeft","CurrentNewsContainer","TagNews","params","fetchTagNews","getToken","localStorage","getItem","setToken","setItem","palette","common","white","elements","form","padding","avatar","margin","submit","input","AdminLogin","username","setUsername","password","setPassword","redirect","setRedirect","submitting","setSubmitting","error","setError","handleSubmit","e","to","Container","maxWidth","CssBaseline","Avatar","Grid","TextField","label","onChange","target","autoFocus","fullWidth","Button","preventDefault","ImageCrop","src","crop","unit","aspect","onSelectFile","files","reader","FileReader","setState","readAsDataURL","onImageLoaded","imageRef","onCropComplete","makeClientCrop","onCropChange","percentCrop","this","getCroppedImg","croppedImageUrl","fileName","canvas","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","x","y","resolve","reject","toBlob","blob","name","URL","revokeObjectURL","fileUrl","createObjectURL","setImageUrl","ruleOfThirds","onComplete","alt","PureComponent","AddForm","submitData","addingNews","setAddingNews","setHeader","setShortHeader","tags","setTags","setText","editingNews","setEditingNews","img","setImg","prevState","Slide","direction","in","mountOnEnter","unmountOnExit","required","TextareaAutosize","Admin","addNews","FormData","append","editNews","deleteNews","App","exact","path","CardsContainer","children","Boolean","hostname","match","initialState","createdAt","updatedAt","combineReducers","action","store","createStore","rootReducer","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1d56b80c.chunk.js","sourcesContent":["import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    width: 300,\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n}));","const API_URL = process.env.REACT_APP_API_URL;\r\n    \r\nconst getTenCards = async currID => {\r\n  const url = `${API_URL}`;\r\n  const result = await fetch(url, {\r\n    method: 'GET',\r\n    headers: {\r\n      'CurrentId': `${currID}`\r\n    }\r\n  }); \r\n  return extractResult(result);\r\n};\r\n\r\nconst getCards = async token => {\r\n  const endpoint = ``;\r\n  const url = `${API_URL}/admin/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  });\r\n  console.log(result);   \r\n  return extractResult(result);\r\n}; \r\n\r\nconst sendCard = async (formData, token) => {\r\n  const endpoint = 'admin/add';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  console.log(formData)\r\n  const result = await fetch(url, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n    },\r\n    body: formData\r\n  });\r\n  return extractResult(result);\r\n};\r\n\r\nconst editCard = async (formData, token) => {\r\n  console.log(token)\r\n  const endpoint = 'admin/edit';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n    },\r\n    body: formData\r\n  });\r\n  return extractResult(result);\r\n};\r\n\r\nconst deleteCard = async (id, token) => {\r\n  const endpoint = 'admin/delete';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({id})\r\n  });\r\n  // return extractResult(result)\r\n  return result;  \r\n};\r\n\r\nconst getOneNews = async id => {\r\n  const endpoint = `news/${id}`;\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url);\r\n  return extractResult(result);\r\n};\r\n\r\nconst getHotNews = async () => {\r\n  const endpoint = 'hotnews';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url);\r\n  return extractResult(result);\r\n};\r\n\r\nconst getTagNews = async tag => {\r\n  const endpoint = `tags/${tag}`;\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url);\r\n  return extractResult(result);\r\n};\r\n\r\nconst loginQuery = async (data) => {\r\n  const endpoint = 'admin/login';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(data)\r\n  });\r\n  return extractResult(result);\r\n};\r\n\r\nconst sendPhoto = async formData => {\r\n  const endpoint = 'photo/upload';\r\n  const url = `${API_URL}/${endpoint}`;\r\n  const result = await fetch(url, {\r\n      method: 'PUT',\r\n      body: formData\r\n  });\r\n  return extractResult(result)\r\n};\r\n\r\nconst getPhoto = async () => {\r\n\r\n};\r\nconst extractResult = async result => {\r\n  const entity = await result.json();\r\n  const success = result.statusText === 'OK';\r\n  return { success, entity };\r\n};\r\n\r\nexport { \r\n  getCards,\r\n  getTenCards,\r\n  sendCard,\r\n  deleteCard, \r\n  editCard,\r\n  getOneNews,\r\n  getHotNews,\r\n  getTagNews,\r\n  loginQuery,\r\n  sendPhoto,\r\n  getPhoto\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\nconst useInfiniteScroll = callback => {\r\n  const [isFetching, setIsFetching] = useState(false);\r\n  const debounce = (func, delay) => {\r\n    let inDebounce;\r\n    return function() {\r\n      clearTimeout(inDebounce);\r\n      inDebounce = setTimeout(() => {\r\n        func.apply(this, arguments);\r\n      }, delay);\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', debounce(handleScroll, 500));\r\n    return () => window.removeEventListener('scroll', debounce(handleScroll, 500));\r\n  }, [handleScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!isFetching) return;\r\n    console.log('Perform fetch')\r\n    callback();\r\n  }, [callback, isFetching]);\r\n\r\n  function handleScroll() {\r\n    if (window.innerHeight + Math.max(\r\n      window.pageYOffset,\r\n      document.documentElement.scrollTop,\r\n      document.body.scrollTop\r\n    ) < document.documentElement.offsetHeight - 10 || isFetching) return;\r\n    console.log('Height is critical')\r\n    setIsFetching(true);\r\n  }\r\n\r\n  return [isFetching, setIsFetching];\r\n};\r\n\r\nexport default useInfiniteScroll;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Card, CardActionArea, CardMedia, CardContent, Typography, Button} from '@material-ui/core';\r\nimport useStyles from './style';\r\nimport { getTenCards } from '../../helpers/apiHelpers';\r\nimport useInfiniteScroll from '../../helpers/useInfiniteScrollHelper';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nfunction Cards(props) {\r\n  const { cards, setCards, setCurrentNews } = props;\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [currId, setCurrId] = useState(-1);\r\n  const [isFetching, setIsFetching] = useInfiniteScroll(fetchMoreListItems);\r\n  const [newsLeft, setNewsLeft] = useState(true)\r\n  console.log(process.env.NODE_ENV)\r\n  function fetchMoreListItems() {\r\n    console.log(currId)\r\n    const fetchingMoreCards = async (currId) => {\r\n      const result = await getTenCards(currId);\r\n      console.log(result.entity)\r\n      if (!result.entity.length) setNewsLeft(false)\r\n      if (result.success && result.entity.length) {\r\n        setIsFetching(false);\r\n        const newCards = cards.concat(result.entity);\r\n        setCards(newCards);\r\n        setCurrId(result.entity[result.entity.length - 1].id)\r\n      } else {\r\n        console.log('Something went wrong');\r\n      }\r\n    };\r\n    fetchingMoreCards(currId);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchStartingData = async currId => {\r\n      const result = await getTenCards(currId);\r\n      if (result.success) {\r\n        console.log(result.entity);\r\n        setCurrId(result.entity[result.entity.length - 1].id)\r\n        setCards(result.entity);\r\n        setIsLoading(false);\r\n      } else {\r\n        console.log('Something went wrong');\r\n      }\r\n    };\r\n    fetchStartingData(currId);\r\n        \r\n  }, []); \r\n\r\n  if (isLoading) return <h1>Is Loading...</h1>;\r\n  return(\r\n    <div style={{marginTop: '80px'}}>\r\n      {cards.map((value, id) => (\r\n        <div key={id} className={classes.items}>\r\n          <Card className={classes.card}>\r\n            <CardActionArea onClick={() => {\r\n              setCurrentNews(value.id);\r\n              history.push(`/news/${value.id}`);\r\n            }}>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={`${API_URL}/${value.photo}`}\r\n                title=\"Contemplative Reptile\"\r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {value.shortHeader}\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n          </Card>\r\n        </div>\r\n      ))}\r\n      {isFetching && newsLeft ? 'Fetching more cards' : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cards;","import { SELECT_CURRENT_NEWS } from '../actionsConsts';\r\n\r\nexport const setCurrentNews = id => ({\r\n  type: SELECT_CURRENT_NEWS,\r\n  payload: id,\r\n});","export const SELECT_CURRENT_NEWS = 'SELECT_CURRENT_NEWS';\r\n\r\nexport const ADD_CARDS = 'ADD_CARDS'; \r\n\r\nexport const ADD_HOT_NEWS = 'ADD_HOT_NEWS'; ","import { ADD_HOT_NEWS } from '../actionsConsts';\r\n\r\nexport const setHotNews = hotNews => ({\r\n  type: ADD_HOT_NEWS,\r\n  payload: hotNews\r\n});","import { ADD_CARDS } from '../actionsConsts';\r\n\r\nexport const setCards = cards => {\r\n  console.log(cards);\r\n  return {\r\n    type: ADD_CARDS,\r\n    payload: cards,\r\n  };\r\n};","import React from 'react';\r\nimport Cards from './Cards';\r\nimport { connect } from 'react-redux';\r\nimport { setCurrentNews} from '../../store/currentNews/actions';\r\nimport { setHotNews } from '../../store/hotNews/actions';\r\nimport { setCards } from '../../store/cards/actions';\r\n\r\nfunction CardsContainer(props) {\r\n  const { cards, setCards, setCurrentNews } = props;\r\n  return (\r\n    <Cards \r\n      cards={cards}\r\n      setCards={setCards}\r\n      setCurrentNews={setCurrentNews}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.cards.cards,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  setCurrentNews,\r\n  setCards,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(CardsContainer);","import { makeStyles, fade } from '@material-ui/core/styles';\r\nimport { flexbox } from '@material-ui/system';\r\n\r\nexport default makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flex: 1\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    backgroundColor: '#000000'\r\n  },\r\n  items: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n}));","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AppBar, Typography, Toolbar, ListItem, ListItemText } from '@material-ui/core';\r\nimport { Search } from '@material-ui/icons';\r\nimport useStyle from './style';\r\n\r\nexport default function AppToolBar() {\r\n  const classes = useStyle();\r\n  const history = useHistory();\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\">\r\n        <Toolbar className={classes.toolbar}>\r\n          <div className={classes.items}>\r\n            <ListItem button component='button'  onClick={() => history.push('/')}>\r\n\t\t\t\t      <ListItemText primary='Домой'/>\r\n\t\t\t      </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/world')}>\r\n\t\t\t\t      <ListItemText primary='Мир'/>\r\n\t\t\t      </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/politics')}>\r\n\t\t\t\t    <ListItemText primary='Политика'/>\r\n\t\t\t        </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/ukraine')}>\r\n\t\t\t\t      <ListItemText primary='Украина'/>\r\n\t\t\t      </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/russia')}>\r\n\t\t\t\t      <ListItemText primary='Россия'/>\r\n\t\t\t      </ListItem>\r\n            <ListItem button component='button'  onClick={() => history.push('/news/tag/technology')}>\r\n\t\t\t\t      <ListItemText primary='Технологии'/>\r\n\t\t\t      </ListItem>\r\n          </div>\r\n        </Toolbar>\r\n          \r\n      </AppBar>\r\n    </div>\r\n  );\r\n}","import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    marginTop: '70px'\r\n  },\r\n  card: {\r\n    width: 150,\r\n    height: 50,\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n}));","import React, { useState } from 'react';\r\nimport { Redirect, useHistory, useLocation, useParams } from 'react-router-dom';\r\nimport { Card, CardActionArea, CardMedia, CardContent, Typography} from '@material-ui/core';\r\nimport useStyle from './style';\r\n\r\n\r\nfunction HotNews(props) {\r\n  const { hotNews, setCurrentNews } = props;\r\n  const history = useHistory();\r\n  const classes = useStyle();\r\n\r\n  return (\r\n    <div>\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n              Hot news\r\n          </Typography>\r\n        </CardContent>\r\n      </Card>\r\n      {\r\n        hotNews.map((value, id) => (    \r\n          <div key={id}>\r\n          <Card className={classes.card}>\r\n            <CardActionArea onClick={() => {\r\n              console.log(history.id)\r\n              setCurrentNews(value.id);\r\n              history.push(`/news/${value.id}`) \r\n            }}>\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {value.shortHeader}\r\n                </Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n          </Card>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nexport default HotNews;","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport HotNews from './HotNews';\r\nimport { connect } from 'react-redux';\r\nimport { setCurrentNews } from '../../store/currentNews/actions';\r\n\r\nfunction HotNewsContainer(props) {\r\n    const { hotNews, setCurrentNews } = props;\r\n    const location = useLocation();\r\n    return (\r\n        <HotNews \r\n            key={location.key}\r\n            hotNews={hotNews}\r\n            setCurrentNews={setCurrentNews}\r\n        />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    cards: state.cards.cards,\r\n    id: state.id.id,\r\n    hotNews: state.hotNews.hotNews\r\n  });\r\n  \r\n  const mapActionsToProps = {\r\n    setCurrentNews,\r\n  };\r\n\r\n  export default connect(mapStateToProps, mapActionsToProps)(HotNewsContainer)","import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  container: {\r\n    display: 'flex',\r\n    marginTop: '70px',\r\n    justifyContent: 'center',\r\n  },  \r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    // justifyContent: 'center',\r\n    marginRight: 40\r\n  },\r\n  card: {\r\n    width: 300,\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n}));","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Card, CardMedia, CardContent, Typography} from '@material-ui/core';\r\nimport HotNewsContainer from '../HotNews/HotNewsContainer'\r\nimport useStyles from './style';\r\nimport { getOneNews, getHotNews } from '../../helpers/apiHelpers';\r\nimport { connect } from 'react-redux';\r\nimport {setCards} from '../../store/cards/actions';\r\nimport { setHotNews } from '../../store/hotNews/actions';\r\nimport { setCurrentNews } from '../../store/currentNews/actions';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nfunction CurrentNews(props) {\r\n  const classes = useStyles();\r\n  const params = useParams();\r\n  const { id } = params;\r\n  const { setHotNews } = props;\r\n  const [card, setCard] = useState({});\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const fetchOneNews = async id => {\r\n      try {\r\n        const [oneNews, hotNews] = await Promise.all([getOneNews(id), getHotNews()]);\r\n        if (oneNews.success && hotNews.success) {\r\n          setHotNews(hotNews.entity);\r\n          setCard(oneNews.entity);\r\n          setIsLoading(false);\r\n        } else {\r\n          console.log('Something went wrong');\r\n        }\r\n      } catch(error) {\r\n        console.log('Request error: ');\r\n        console.log(error);\r\n      }\r\n    }; \r\n    fetchOneNews(id);\r\n  }, []);\r\n\r\n  if (isLoading) return <div>Is Loading...</div>;\r\n  console.log(card)\r\n  return (\r\n    <div className={classes.container}>\r\n      <div className={classes.items}>\r\n        <Card className={classes.card}>\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={`${API_URL}/${card.photo}`}\r\n            title=\"Contemplative Reptile\"\r\n          />\r\n        </Card>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n              {card.header}\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className={classes.card}>\r\n          <CardContent>\r\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n              {card.text}\r\n            </Typography>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n      <div style={{marginLeft: '30px'}}>\r\n        <HotNewsContainer/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  console.log(state);\r\n  return {\r\n    cards: state.cards.cards,\r\n    id: state.id.id,\r\n    hotNews: state.hotNews.hotNews};\r\n};\r\n\r\nconst mapActionsToProps = {\r\n  setCurrentNews,\r\n  setCards,\r\n  setHotNews\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(CurrentNews);","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport CurrentNews from './CurrentNews';\r\n\r\nexport default function CurrentNewsContainer() {\r\n  const location = useLocation();\r\n  console.log(location);\r\n  return (\r\n    <CurrentNews key={location.key} />\r\n  );\r\n}","import { makeStyles, fade } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles((theme) => ({\r\n  items: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  card: {\r\n    width: 300,\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n}));","import React, { useState, useEffect } from 'react';\r\nimport { useParams, Redirect, useHistory } from 'react-router-dom';\r\nimport { Card, CardActionArea, CardMedia, CardContent, Typography, Button} from '@material-ui/core';\r\nimport { getTagNews } from '../../helpers/apiHelpers';\r\nimport useStyles from './style';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nexport default function TagNews(props) {\r\n  const { cards, setCards, setCurrentNews } = props;\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  \r\n  useEffect(() => {\r\n    const fetchTagNews = async tag => {\r\n      const result = await getTagNews(tag);\r\n      console.log(result);\r\n      if (result.success) {\r\n        setCards(result.entity);\r\n        console.log(cards);\r\n        setIsLoading(false)\r\n      }\r\n    };\r\n    fetchTagNews(params.tag);\r\n  }, []);\r\n\r\n  if (isLoading) return <h1 style={{marginTop: '70px'}}>Is Loading...</h1>\r\n  \r\n  return (\r\n    <div style={{marginTop: '70px'}}>\r\n      {\r\n        cards.map((value) => (\r\n          <div key={value.id} className={classes.items}>\r\n            <Card className={classes.card}>\r\n              <CardActionArea onClick={() => {\r\n                setCurrentNews(value.id);\r\n                history.push(`/news/${value.id}`);  \r\n              }}>\r\n                <CardMedia\r\n                  className={classes.media}\r\n                  image={`${API_URL}/${value.photo}`}\r\n                  title=\"Contemplative Reptile\"\r\n                />\r\n                <CardContent>\r\n                  <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                    {value.shortHeader}\r\n                  </Typography>\r\n                </CardContent>\r\n              </CardActionArea>\r\n            </Card>\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport TagNews from './TagNews';\r\nimport { connect } from 'react-redux';\r\nimport { setCurrentNews} from '../../store/currentNews/actions';\r\nimport { setHotNews } from '../../store/hotNews/actions';\r\nimport { setCards } from '../../store/cards/actions';\r\n\r\nfunction TagNewsContainer(props) {\r\n  const { cards, setCards, setCurrentNews } = props;\r\n  const location = useLocation();\r\n  return (\r\n    <TagNews \r\n      cards={cards}\r\n      setCards={setCards}\r\n      key={location.key}\r\n      setCurrentNews={setCurrentNews}\r\n    />\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  cards: state.cards.cards,\r\n  id: state.id.id,\r\n  hotNews: state.hotNews.hotNews\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  setCurrentNews,\r\n  setCards,\r\n  setHotNews\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(TagNewsContainer);","const getToken = () => {\r\n  return localStorage.getItem('token');\r\n};\r\n\r\nconst setToken = token => {\r\n  localStorage.setItem('token', token);\r\n  return true;\r\n};\r\n\r\nexport {\r\n  setToken,\r\n  getToken\r\n};","import { makeStyles } from '@material-ui/core/styles';\r\n\r\n\r\nexport default makeStyles(theme => ({\r\n  '@global': {\r\n    body: {\r\n      backgroundColor: theme.palette.common.white,\r\n    },\r\n  },\r\n  elements: {\r\n    marginTop: theme.spacing(25),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(3),\r\n    padding: theme.spacing(0, 2, 0, 2)\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#000000'\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  input: {\r\n    marginBottom: theme.spacing(1)\r\n  }\r\n}));","import React, { useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  TextField,\r\n  Link,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n  CssBaseline,\r\n} from '@material-ui/core';\r\n\r\nimport PermIdentity from '@material-ui/icons/PermIdentity';\r\nimport { setToken } from '../../../helpers/tokenHelpers';\r\nimport { loginQuery } from '../../../helpers/apiHelpers';\r\n\r\nimport useStyles from './style';\r\n\r\nexport default function AdminLogin () {\r\n  const classes = useStyles();\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (username, password, e) => {\r\n    setSubmitting(true);\r\n    const data = { username, password };\r\n    try {\r\n      const result = await loginQuery(data);\r\n      console.log(result);\r\n      if (result.success) {\r\n        if (result.entity.token) {\r\n          setToken(result.entity.token);\r\n          setRedirect(true);\r\n        }\r\n      } else {\r\n        setSubmitting(false);\r\n        setError(result.entity.error);\r\n      }\r\n    } catch (error) {\r\n      setSubmitting(false);\r\n      setError('Some error');\r\n    }\r\n  };\r\n\r\n  if (redirect) {\r\n    return <Redirect to='/admin' />;\r\n  }\r\n\r\n  return (\r\n    <Container component='main' maxWidth='xs'>\r\n      {\r\n        error\r\n      }\r\n      <CssBaseline />\r\n      <div className={classes.elements}>\r\n        <Avatar>\r\n          <PermIdentity />\r\n        </Avatar>\r\n        <Typography component='h1' variant='h5'>\r\n\t\t\tSing In\r\n        </Typography>\r\n        <form className={classes.form}>\r\n          <Grid className={classes.input}>\r\n            <TextField\r\n              id='username'\r\n              label='Login'\r\n              value={username}\r\n              onChange={({target}) => setUsername(target.value)}\r\n              autoFocus\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid className={classes.input}>\r\n            <TextField\r\n              id='password'\r\n              label='Password'\r\n              type='password'\r\n\t\t\t  value={password}\r\n\t\t\t  onChange={({target}) => setPassword(target.value)}\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid>\r\n            <Button className={classes.submit}\r\n              type='submit'\r\n              fullWidth\r\n              color='primary'\r\n\t\t\t  variant='contained'\r\n\t\t\t  onClick={(e) => {\r\n                e.preventDefault();\r\n                handleSubmit(username, password);\r\n              }}\r\n            >\r\n              {\r\n                submitting ? \r\n                  'Logging in...' :\r\n                  'Log In'\r\n              }\r\n            </Button>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n","import ReactDOM from 'react-dom';\r\nimport React, { PureComponent } from 'react';\r\nimport ReactCrop from 'react-image-crop';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\n\r\nclass ImageCrop extends PureComponent {\r\n  state = {\r\n    src: null,\r\n    crop: {\r\n      unit: '%',\r\n      width: 30,\r\n      aspect: 16 / 9,\r\n    },\r\n  };\r\n\r\n  onSelectFile = e => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n        \r\n      const reader = new FileReader();\r\n      reader.addEventListener('load', () =>{\r\n        this.setState({ src: reader.result })}\r\n      );\r\n      reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  onImageLoaded = image => {\r\n    this.imageRef = image;\r\n  };\r\n\r\n  onCropComplete = crop => {\r\n    this.makeClientCrop(crop);\r\n  };\r\n\r\n  onCropChange = (crop, percentCrop) => {\r\n    // You could also use percentCrop:\r\n    // this.setState({ crop: percentCrop });\r\n    this.setState({ crop });\r\n  };\r\n\r\n  async makeClientCrop(crop) {\r\n    if (this.imageRef && crop.width && crop.height) {\r\n      const croppedImageUrl = await this.getCroppedImg(\r\n        this.imageRef,\r\n        crop,\r\n        'newFile.jpeg'\r\n      );\r\n      this.setState({ croppedImageUrl });\r\n    }\r\n  }\r\n\r\n  getCroppedImg(image, crop, fileName) {\r\n    const canvas = document.createElement('canvas');\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    canvas.width = crop.width;\r\n    canvas.height = crop.height;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n\r\n    return new Promise((resolve, reject) => {\r\n      canvas.toBlob(blob => {\r\n        if (!blob) {\r\n          console.error('Canvas is empty');\r\n          return;\r\n        }\r\n        console.log(blob)\r\n        blob.name = fileName;\r\n        window.URL.revokeObjectURL(this.fileUrl);\r\n        this.fileUrl = window.URL.createObjectURL(blob);\r\n        this.props.setImageUrl(blob)\r\n        resolve(this.fileUrl);\r\n      }, 'image/jpeg');\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { crop, croppedImageUrl, src } = this.state;\r\n    console.log(croppedImageUrl)\r\n    return (\r\n      <div>\r\n        <div>\r\n          <input type=\"file\" onChange={this.onSelectFile}/>\r\n        </div>\r\n        {src && (\r\n          <ReactCrop\r\n            src={src}\r\n            crop={crop}\r\n            ruleOfThirds\r\n            onImageLoaded={this.onImageLoaded}\r\n            onComplete={this.onCropComplete}\r\n            onChange={this.onCropChange}\r\n          />\r\n        )}\r\n        {croppedImageUrl && (\r\n          <img alt=\"Crop\" style={{ maxWidth: '100%' }} src={croppedImageUrl} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageCrop\r\n","import React, { useState, useRef } from 'react'; \r\nimport { Container, Typography, TextField, Slide, Grid, CssBaseline, Button, TextareaAutosize  } from '@material-ui/core';\r\n// import useStyles from './  style';\r\nimport ImageCrop from '../ImageCrop/ImageCrop'\r\nimport { getToken } from '../../../helpers/tokenHelpers';\r\nimport './index.css'\r\n\r\nexport default function AddForm(props) {\r\n  const { value, submitData, addingNews, setAddingNews } = props;\r\n  // const classes = useStyles(); \r\n  const [header, setHeader] = useState(value.header);\r\n  const [shortHeader, setShortHeader] = useState(value.shortHeader)\r\n  const [tags, setTags] = useState(value.tags);\r\n  const [text, setText] = useState(value.text);\r\n  const [token, setToken] = useState(getToken());\r\n  const [editingNews, setEditingNews] = useState(false);\r\n  const [img, setImg] = useState(null)\r\n  \r\n  const setImageUrl = url => {\r\n    setImg(url)\r\n    console.log(img)\r\n  }\r\n  return (\r\n    <Container component='main'>\r\n      <CssBaseline/>\r\n      <button onClick={() => {\r\n        setEditingNews((prevState) => !prevState);\r\n      }}>\r\n        Edit news\r\n      </button>\r\n      <button onClick={() => {\r\n        submitData(value.id, shortHeader ,header, tags, text, 'delete', img, token);\r\n       }\r\n      }>\r\n        Delete news\r\n      </button>\r\n      <Slide \r\n        direction='up' \r\n        in={editingNews || addingNews} \r\n        mountOnEnter \r\n        unmountOnExit\r\n      >\r\n        <div className='root'>\r\n          <Typography>\r\n            Add New Marker \r\n          </Typography>\r\n          <button onClick={() => {\r\n            addingNews ?\r\n              setAddingNews(false) :\r\n              setEditingNews(false);\r\n          }}>Close</button>\r\n          <form className='form'>\r\n            <Grid>\r\n              <ImageCrop setImageUrl={setImageUrl}/>\r\n            </Grid>\r\n            <Grid>\r\n              <TextField\r\n                className='input'\r\n                label='Short Header'\r\n                onChange={({target}) => setShortHeader(target.value)}\r\n                value={shortHeader}\r\n                autoFocus\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid>\r\n              <TextField\r\n                className='input'\r\n                label='Header'\r\n                onChange={({target}) => setHeader(target.value)}\r\n                value={header}\r\n                autoFocus\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid>\r\n              <TextField\r\n                className='input'\r\n                label='Tags'\r\n                onChange={({target}) => setTags(target.value)}\r\n                value={tags}\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid>\r\n              <TextareaAutosize\r\n                className='input'\r\n                label='Text'\r\n                onChange={({target}) => setText(target.value)}\r\n                value={text}\r\n                fullWidth\r\n                required\r\n              />\r\n            </Grid>\r\n            <Grid>\r\n              {\r\n                addingNews ? \r\n                  <Button \r\n                    className='input'\r\n                    color='secondary' \r\n                    variant='contained' \r\n                    onClick={() => {\r\n                      submitData(value.id, shortHeader,header, tags, text, 'add', img, token);\r\n                      setShortHeader('');\r\n                      setHeader('');\r\n                      setTags('')\r\n                      setText('')\r\n                      setAddingNews(false);\r\n                    }}>\r\n\t\t\t\t\t\t\t\tSave Info\r\n                  </Button> \r\n                  :\r\n                  <Button \r\n                    className='input'\r\n                    color='secondary' \r\n                    variant='contained' \r\n                    onClick={() => {\r\n                      submitData(value.id, shortHeader ,header, tags, text, 'edit', img, token);\r\n                      setEditingNews(false);\r\n                    }}>\r\n\t\t\t\t\t\t\t\tEdit Info\r\n                  </Button> \r\n              }\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Slide>\r\n    </Container>\r\n  );  \r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Form from '../Form/Form';\r\n// import Info from '../Info/Info'\r\nimport { sendCard, getCards, editCard, deleteCard, sendPhoto } from '../../../helpers/apiHelpers';\r\nimport { getToken } from '../../../helpers/tokenHelpers';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nexport default function Admin() {\r\n  const [isLoading ,setIsLoading] = useState(true);\r\n  const [cards, setCards] = useState(null);\r\n  const [addingNews, setAddingNews] = useState(false);\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const addNews = async (shortHeader,header, tags, text, photo, token) => {\r\n    console.log(header, tags, text, photo, token)\r\n    const formData = new FormData();\r\n    formData.append('shortHeader', shortHeader);\r\n    formData.append('header', header)\r\n    formData.append('tags', tags);\r\n    formData.append('text', text);\r\n    formData.append('photo', photo);\r\n    try {\r\n      const result = await sendCard(formData, token);\r\n      console.log(result);\r\n    } catch (error) {\r\n      console.log('API call error:', error);\r\n    }\r\n  };\r\n\r\n  const editNews = async (id, shortHeader, header, tags, text, photo, token) => {\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('shortHeader', shortHeader);\r\n    formData.append('header', header);\r\n    formData.append('tags', tags);\r\n    formData.append('text', text);\r\n    formData.append('photo', photo);\r\n    try {\r\n      const result = await editCard(formData, token);\r\n      console.log(result);\r\n    } catch (error) {\r\n      console.log('API call error:', error);\r\n    }\r\n  };\r\n\r\n  const deleteNews = async (id, token) => {\r\n    try {\r\n      const result = await deleteCard(id, token);\r\n      console.log(result);\r\n    } catch (error) {\r\n      console.log('API call error:', error);\r\n    }\r\n  };\r\n\r\n  const submitData = (id, shortHeader, header, tags, text, type, photo, token) => {\r\n    console.log(id, header,shortHeader, tags, text, type, photo, token)\r\n    if (type === 'add') {\r\n      addNews(shortHeader, header, tags, text, photo, token);\r\n    }\r\n    if (type === 'edit') {\r\n      editNews(id ,shortHeader ,header, tags, text, photo, token);\r\n    }\r\n    if (type === 'delete') {\r\n      deleteNews(id, token);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = getToken();\r\n    if (!token) setRedirect(true); \r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchStartingData = async () => {\r\n      const result = await getCards(getToken());\r\n      if (result.success) {\r\n        console.log(result.entity);\r\n        setCards(result.entity);\r\n        setIsLoading(false);\r\n      } else {\r\n        console.log('Something went wrong');\r\n      }\r\n    };\r\n    fetchStartingData();    \r\n  }, []); \r\n\r\n  if (isLoading) return <h1>Is Loading...</h1>;\r\n\r\n  if (redirect) return <Redirect to='/adminlogin'/>;\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => setAddingNews(prevState => !prevState)}>Add news</button>\r\n      <Form \r\n        submitData={submitData} \r\n        value={{id: null, shortHeader: '', header: '', tags: '', text: ''}} \r\n        addingNews={addingNews}\r\n        setAddingNews={setAddingNews}\r\n      />\r\n      {\r\n        cards.map((value) => (\r\n          <div key={value.id}>\r\n            <div style={{display: 'flex', alignItems: 'center '}}>\r\n              <img src={`${API_URL}/${value.photo}`} height='100' width='100'/>\r\n              <p>{value.shortHeader} </p>\r\n              <h2>{value.header} </h2>\r\n              <p>{value.text} </p>\r\n            </div>\r\n            <Form submitData={submitData} value={value} />\r\n          </div>\r\n        ))\r\n      }\r\n    </div>\r\n  );\r\n}","import React, { Fragment } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport './App.css';\r\nimport CardsContainer from '../Cards/CardsContainer';\r\nimport AppToolBar from '../AppToolBar/AppToolBar';\r\nimport CurrentNewsContainer from '../CurrentNews/CurrentNewsContainer';\r\nimport TagNewsContainer from '../TagNews/TagNewsContainer';\r\nimport AdminLogin from '../AdminComponents/AdminLogin/AdminLogin';\r\nimport Admin from '../AdminComponents/Admin/Admin';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path='/admin' component={Admin}/>\r\n          <Route exact path='/adminlogin' component={AdminLogin}/>\r\n          <Fragment>\r\n            <AppToolBar/>\r\n            <Route exact path='/' component={CardsContainer}/>\r\n            <Route exact path='/news/:id' children={<CurrentNewsContainer/>}/>\r\n            <Route exact path='/news/tag/:tag' children={<TagNewsContainer/>}/>\r\n          </Fragment>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { SELECT_CURRENT_NEWS } from '../actionsConsts';\r\n\r\nconst initialState = {\r\n  id: null,\r\n};\r\n\r\nexport const currentNewsReducer = (state = initialState, action) => {\r\n  switch(action.type) {\r\n  case SELECT_CURRENT_NEWS: \r\n    return {\r\n      ...state, \r\n      id: action.payload\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n};","import { ADD_CARDS } from '../actionsConsts';\r\n\r\nconst initialState = {\r\n  cards: [{ id: 1,\r\n    name: 'asdsa',\r\n    text: 'asdasd',\r\n    createdAt: '2019-10-12T21:11:07.500Z',\r\n    updatedAt: '2019-10-12T21:11:07.500Z' }]\r\n};\r\n\r\nexport const setCardsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case ADD_CARDS:\r\n    return {\r\n      ...state,\r\n      cards: action.payload\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n};","import { ADD_HOT_NEWS } from '../actionsConsts';\r\n\r\nconst initialState = {\r\n  hotNews: null\r\n};\r\n\r\nexport const hotNewsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case ADD_HOT_NEWS:\r\n    return {\r\n      ...state,\r\n      hotNews: action.payload\r\n    };\r\n  default:\r\n    return state;\r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport { currentNewsReducer } from './currentNews/reducer';\r\nimport { setCardsReducer } from './cards/reducer'; \r\nimport { hotNewsReducer } from './hotNews/reducer';\r\n\r\nexport default combineReducers({\r\n  id: currentNewsReducer,\r\n  cards: setCardsReducer,\r\n  hotNews: hotNewsReducer\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport rootReducer from './store/reducers';\r\n\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\n\r\nconst store = createStore(rootReducer); \r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>, \r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
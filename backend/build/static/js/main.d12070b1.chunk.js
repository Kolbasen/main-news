(this["webpackJsonpweb-react"]=this["webpackJsonpweb-react"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=(n(90),n(17)),s=n(33),u=(n(91),n(7)),l=n.n(u),m=n(12),p=n(10),d=n(136),f=n(138),h=n(139),b=n(140),g=n(50),w=n(6),O=n(68),v=Object(O.a)((function(e){return{items:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},card:Object(w.a)({width:380,marginBottom:e.spacing(2)},e.breakpoints.down(600),{width:300}),media:Object(w.a)({height:223},e.breakpoints.down(600),{height:140})}})),E="".concat("http://185.67.1.28","/api"),j=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(E),e.next=3,fetch(n,{method:"GET",headers:{CurrentId:"".concat(t)}});case 3:return a=e.sent,e.abrupt("return",I(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",n="".concat(E,"/admin/").concat(""),e.next=4,fetch(n,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.abrupt("return",I(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/add",a="".concat(E,"/").concat("admin/add"),e.next=4,fetch(a,{method:"PUT",headers:{Authorization:"Bearer ".concat(n)},body:t});case 4:return r=e.sent,e.abrupt("return",I(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/edit",a="".concat(E,"/").concat("admin/edit"),e.next=4,fetch(a,{method:"PUT",headers:{Authorization:"Bearer ".concat(n)},body:t});case 4:return r=e.sent,e.abrupt("return",I(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/delete",a="".concat(E,"/").concat("admin/delete"),e.next=4,fetch(a,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({id:t})});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="news/".concat(t),a="".concat(E,"/").concat(n),e.next=4,fetch(a);case 4:return r=e.sent,e.abrupt("return",I(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"hotnews",t="".concat(E,"/").concat("hotnews"),e.next=4,fetch(t);case 4:return n=e.sent,e.abrupt("return",I(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="tags/".concat(t),a="".concat(E,"/").concat(n),e.next=4,fetch(a);case 4:return r=e.sent,e.abrupt("return",I(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/login",n="".concat(E,"/").concat("admin/login"),e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return a=e.sent,e.abrupt("return",I(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return n=e.sent,a="OK"===t.statusText,e.abrupt("return",{success:a,entity:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),r=n[0],c=n[1],o=function(e,t){var n;return function(){var a=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(a,r)}),t)}};function i(){window.innerHeight+Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)<document.documentElement.offsetHeight-10||r||c(!0)}return Object(a.useEffect)((function(){return window.addEventListener("scroll",o(i,500)),function(){return window.removeEventListener("scroll",o(i,500))}}),[i]),Object(a.useEffect)((function(){r&&e()}),[e,r]),[r,c]},L="".concat("http://185.67.1.28");var R=function(e){var t=e.cards,n=e.setCards,c=Object(s.g)(),o=v(),i=Object(a.useState)(!0),u=Object(p.a)(i,2),w=u[0],O=u[1],E=Object(a.useState)(-1),y=Object(p.a)(E,2),k=y[0],C=y[1],x=T((function(){!function(){var e=Object(m.a)(l.a.mark((function e(a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a);case 2:(r=e.sent).entity.length||A(!1),r.success&&r.entity.length?(D(!1),c=t.concat(r.entity),n(c),C(r.entity[r.entity.length-1].id)):console.log("Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(k)})),N=Object(p.a)(x,2),S=N[0],D=N[1],P=Object(a.useState)(!0),I=Object(p.a)(P,2),R=I[0],A=I[1];return Object(a.useEffect)((function(){(function(){var e=Object(m.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:(a=e.sent).success?(C(a.entity[a.entity.length-1].id),n(a.entity),O(!1)):console.log("Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(k)}),[]),w?r.a.createElement("h1",null,"Is Loading..."):r.a.createElement("div",{style:{marginTop:"25px"}},t.map((function(e,t){return r.a.createElement("div",{key:t,className:o.items},r.a.createElement(d.a,{className:o.card},r.a.createElement(f.a,{onClick:function(){c.push("/news/".concat(e.id))}},r.a.createElement(h.a,{className:o.media,image:"".concat(L,"/").concat(e.photo),title:"Contemplative Reptile"}),r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.shortHeader)))))})),S&&R?"Fetching more cards":null)},A=n(21),_=function(e){return{type:"SELECT_CURRENT_NEWS",payload:e}},H=function(e){return{type:"ADD_CARDS",payload:e}};var B={setCurrentNews:_,setCards:H},W=Object(A.b)((function(e){return{cards:e.cards.cards}}),B)((function(e){var t=e.cards,n=e.setCards,a=e.setCurrentNews;return r.a.createElement(R,{cards:t,setCards:n,setCurrentNews:a})})),U=n(144),F=n(145),z=n(141),q=n(146),M=n(142),J=n(156),G=n(102),K=Object(G.a)((function(e){return{list:{width:250},fullList:{width:"auto"},a:{textDecoration:"none"}}})),Y=n(72),$=n.n(Y),Q=n(47),V=n.n(Q),X=function(e){var t=e.toggleDrawer,n=K(),a=Object(s.g)();return r.a.createElement("div",{className:n.list,role:"presentation",onClick:t(!1),onKeyDown:t(!1)},r.a.createElement(z.a,{button:!0,component:"a",onClick:function(){return a.push("/")}},r.a.createElement(M.a,{primary:"\u0414\u043e\u043c\u043e\u0439"})),r.a.createElement(z.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/world")}},r.a.createElement(M.a,{primary:"\u041c\u0438\u0440"})),r.a.createElement(z.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/politics")}},r.a.createElement(M.a,{primary:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"})),r.a.createElement(z.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/ukraine")}},r.a.createElement(M.a,{primary:"\u0423\u043a\u0440\u0430\u0438\u043d\u0430"})),r.a.createElement(z.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/russia")}},r.a.createElement(M.a,{primary:"\u0420\u043e\u0441\u0441\u0438\u044f"})),r.a.createElement(z.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/technology")}},r.a.createElement(M.a,{primary:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})),r.a.createElement(z.a,{component:"a"},r.a.createElement("a",{href:"mailto::hrealmainnews@gmail.com",target:"__blank"},r.a.createElement("img",{src:$.a,height:"45",width:"35"})),r.a.createElement("div",{style:{marginLeft:15}}),r.a.createElement("a",{className:n.a,href:"https://t.me/realmainnews",target:"__blank"},r.a.createElement("img",{src:V.a,height:"30",width:"30"}))))};var Z=function(e){var t=e.sideDrawerOpen,n=e.toggleDrawer;return r.a.createElement("div",null,r.a.createElement(J.a,{open:t,onClose:n(!1)},r.a.createElement(X,{toggleDrawer:n})))},ee=n(73),te=n.n(ee),ne=Object(O.a)((function(e){var t;return{root:{},toolbar:Object(w.a)({backgroundColor:"#000000",alignItems:"center",justifyContent:"center",maxHeight:"56px"},e.breakpoints.down("xs"),{justifyContent:"space-between"}),items:Object(w.a)({display:"flex"},e.breakpoints.down("xs"),{display:"none"}),mobileItem:Object(w.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"}),menuButton:{marginRight:e.spacing(2)},bottomLine:(t={marginRight:"auto",marginLeft:"auto"},Object(w.a)(t,e.breakpoints.up("lg"),{width:"60%"}),Object(w.a)(t,e.breakpoints.down("lg"),{width:"65%"}),Object(w.a)(t,e.breakpoints.down("md"),{width:"80%"}),Object(w.a)(t,e.breakpoints.down(950),{width:"90%"}),Object(w.a)(t,e.breakpoints.down(850),{width:"95%"}),Object(w.a)(t,e.breakpoints.down(800),{width:"95%"}),Object(w.a)(t,e.breakpoints.down(750),{width:"95%"}),Object(w.a)(t,e.breakpoints.down(700),{width:"80%"}),Object(w.a)(t,e.breakpoints.down("xs"),{width:"75%"}),Object(w.a)(t,e.breakpoints.down(550),{width:"80%"}),Object(w.a)(t,e.breakpoints.down(450),{width:"90%"}),Object(w.a)(t,"borderBottom","2px solid black"),Object(w.a)(t,"marginTop","85px"),t)}})),ae=n(59),re=n.n(ae),ce=new Map([]);function oe(e){var t=e.oneCard,n=ne(),c=Object(s.g)(),o=Object(a.useState)(!1),i=Object(p.a)(o,2),u=i[0],l=i[1],m=Object(a.useState)(!0),d=Object(p.a)(m,2),f=(d[0],d[1],Object(a.useState)(null)),h=Object(p.a)(f,2),b=h[0],g=h[1],w=Object(a.useState)(null),O=Object(p.a)(w,2),v=O[0],E=O[1];return Object(a.useEffect)((function(){if(t)if(c.location.pathname.match(/news\/([0-9])+/)){var e=new Date(t.createdAt).toLocaleDateString().split("/").join(".");E(e),g(t.tags)}else g(null),E(null)}),[c.location,t]),r.a.createElement("div",{className:n.root},r.a.createElement(U.a,{position:"fixed"},r.a.createElement(F.a,{className:n.toolbar},r.a.createElement("div",{className:n.items},r.a.createElement(z.a,{button:!0,component:"button",onClick:function(){return c.push("/")}},r.a.createElement(q.a,null,r.a.createElement("img",{src:re.a,width:"42",height:"25"}))),r.a.createElement(z.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/world")}},r.a.createElement(M.a,{primary:"\u041c\u0438\u0440"})),r.a.createElement(z.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/politics")}},r.a.createElement(M.a,{primary:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"})),r.a.createElement(z.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/ukraine")}},r.a.createElement(M.a,{primary:"\u0423\u043a\u0440\u0430\u0438\u043d\u0430"})),r.a.createElement(z.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/russia")}},r.a.createElement(M.a,{primary:"\u0420\u043e\u0441\u0441\u0438\u044f"})),r.a.createElement(z.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/technology")}},r.a.createElement(M.a,{primary:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}))),r.a.createElement("div",{className:n.mobileItem},r.a.createElement(z.a,{button:!0,component:"button",onClick:function(){l((function(e){return!e}))}},r.a.createElement(te.a,{fontSize:"large"}))),r.a.createElement("div",{className:n.mobileItem},r.a.createElement(z.a,{button:!0,component:"button",onClick:function(){return c.push("/")}},r.a.createElement(q.a,null,r.a.createElement("img",{src:re.a,width:"42",height:"25"})))))),r.a.createElement(Z,{toggleDrawer:function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&l(e)}},sideDrawerOpen:u}),r.a.createElement("div",{className:n.bottomLine},r.a.createElement("div",null,v," ",v?",":null," ",ce.get(b))))}ce.set("world","\u041c\u0438\u0440").set("politics","\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430").set("ukraine","\u0423\u043a\u0440\u0430\u0438\u043d\u0430").set("russia","\u0420\u043e\u0441\u0441\u0438\u044f").set("technology","\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438");var ie=Object(A.b)((function(e){return{cards:e.cards.cards,oneCard:e.oneCard.oneCard}}))((function(e){var t=e.cards,n=e.oneCard;return r.a.createElement(oe,{cards:t,oneCard:n})})),se=Object(O.a)((function(e){return{items:{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"70px"},card:{display:"block",width:280,height:103,marginBottom:e.spacing(2)},media:{height:140}}}));var ue=function(e){var t=e.hotNews,n=(e.setCurrentNews,Object(s.g)()),a=se();return r.a.createElement("div",null,r.a.createElement(d.a,{className:a.card},r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},"\u0415\u0449\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"))),t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(d.a,{className:a.card},r.a.createElement(f.a,{onClick:function(){n.push("/news/".concat(e.id))}},r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.shortHeader)))))})))};var le={setCurrentNews:_},me=Object(A.b)((function(e){return{cards:e.cards.cards,hotNews:e.hotNews.hotNews}}),le)((function(e){var t=e.hotNews,n=e.setCurrentNews,a=Object(s.h)();return r.a.createElement(ue,{key:a.key,hotNews:t,setCurrentNews:n})})),pe=Object(O.a)((function(e){return{container:{display:"flex",marginTop:"25px",justifyContent:"center"},items:Object(w.a)({display:"flex",flexDirection:"column",marginRight:40},e.breakpoints.down("xs"),{marginRight:"0px"}),card:Object(w.a)({width:380,maxWidth:380,marginBottom:e.spacing(2)},e.breakpoints.down(600),{width:300}),media:Object(w.a)({height:223},e.breakpoints.down(600),{height:176}),hotNews:Object(w.a)({marginLeft:"30px"},e.breakpoints.down(750),{marginLeft:"0px",display:"none"})}})),de="".concat("http://185.67.1.28");var fe=function(e){var t=pe(),n=Object(s.i)().id,c=e.setHotNews,o=(e.currentNews,e.setCurrentNews,e.oneCard),i=e.setOneCard,u=Object(a.useState)(!0),f=Object(p.a)(u,2),w=f[0],O=f[1];return Object(a.useEffect)((function(){O(!0),function(){var e=Object(m.a)(l.a.mark((function e(t){var n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([N(t),S()]);case 3:n=e.sent,a=Object(p.a)(n,2),r=a[0],o=a[1],r.success&&o.success?(c(o.entity),i(r.entity),O(!1)):console.log("Something went wrong"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Request error: "),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()(n)}),[]),w?r.a.createElement("div",null,"Is Loading..."):r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.items},r.a.createElement(d.a,{className:t.card},r.a.createElement(h.a,{className:t.media,image:"".concat(de,"/").concat(o.photo),title:"Contemplative Reptile"})),r.a.createElement(d.a,{className:t.card},r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{whiteSpace:"pre-line"}},o.header))),r.a.createElement(d.a,{className:t.card},r.a.createElement(b.a,null,r.a.createElement(g.a,{variant:"body1",color:"textSecondary",component:"p",style:{whiteSpace:"pre-line"}},o.text)))),r.a.createElement("div",{className:t.hotNews},r.a.createElement(me,null)))},he=function(e){return{type:"ADD_HOT_NEWS",payload:e}};var be={setCurrentNews:_,setCards:H,setHotNews:he,setOneCard:function(e){return{type:"ADD_ONE_CARD",payload:e}}},ge=Object(A.b)((function(e){return{cards:e.cards.cards,currentNews:e.currentNews.currentNews,hotNews:e.hotNews.hotNews,oneCard:e.oneCard.oneCard}}),be)((function(e){var t=Object(s.h)(),n=e.setHotNews,a=e.currentNews,c=e.oneCard,o=e.setOneCard;return r.a.createElement(fe,{key:t.key,setHotNews:n,currentNews:a,setCurrentNews:_,oneCard:c,setOneCard:o})})),we=Object(O.a)((function(e){return{items:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"25px"},card:Object(w.a)({width:380,maxWidth:380,marginBottom:e.spacing(2)},e.breakpoints.down(600),{width:300}),media:Object(w.a)({height:223},e.breakpoints.down(600),{height:176})}})),Oe="".concat("http://185.67.1.28");function ve(e){var t=e.cards,n=e.setCards,c=(e.setCurrentNews,Object(s.i)()),o=Object(s.g)(),i=we(),u=Object(a.useState)(!0),w=Object(p.a)(u,2),O=w[0],v=w[1];return Object(a.useEffect)((function(){(function(){var e=Object(m.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:(a=e.sent).success&&(n(a.entity),v(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(c.tag)}),[]),O?r.a.createElement("h1",{style:{marginTop:"70px"}},"Is Loading..."):r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e.id,className:i.items},r.a.createElement(d.a,{className:i.card},r.a.createElement(f.a,{onClick:function(){o.push("/news/".concat(e.id))}},r.a.createElement(h.a,{className:i.media,image:"".concat(Oe,"/").concat(e.photo),title:"Contemplative Reptile"}),r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.shortHeader)))))})))}var Ee={setCurrentNews:_,setCards:H,setHotNews:he},je=Object(A.b)((function(e){return{cards:e.cards.cards,hotNews:e.hotNews.hotNews}}),Ee)((function(e){var t=e.cards,n=e.setCards,a=e.setCurrentNews,c=Object(s.h)();return r.a.createElement(ve,{cards:t,setCards:n,key:c.key,setCurrentNews:a})})),ye=n(147),ke=n(148),Ce=n(149),xe=n(150),Ne=n(154),Se=n(153),De=n(74),Pe=n.n(De),Ie=function(){return localStorage.getItem("token")},Te=function(e){return localStorage.setItem("token",e),!0},Le=Object(O.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},elements:{marginTop:e.spacing(25),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3),padding:e.spacing(0,2,0,2)},avatar:{margin:e.spacing(1),backgroundColor:"#000000"},submit:{margin:e.spacing(3,0,2)},input:{marginBottom:e.spacing(1)}}}));function Re(){var e=Le(),t=Object(a.useState)(""),n=Object(p.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),u=Object(p.a)(i,2),d=u[0],f=u[1],h=Object(a.useState)(!1),b=Object(p.a)(h,2),w=b[0],O=b[1],v=Object(a.useState)(!1),E=Object(p.a)(v,2),j=E[0],y=E[1],k=Object(a.useState)(""),C=Object(p.a)(k,2),x=C[0],N=C[1],S=function(){var e=Object(m.a)(l.a.mark((function e(t,n,a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),r={username:t,password:n},e.prev=2,e.next=5,P(r);case 5:(c=e.sent).success?c.entity.token&&(Te(c.entity.token),O(!0)):(y(!1),N(c.entity.error)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),y(!1),N("Some error");case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}();return w?r.a.createElement(s.a,{to:"/admin"}):r.a.createElement(ye.a,{component:"main",maxWidth:"xs"},x,r.a.createElement(ke.a,null),r.a.createElement("div",{className:e.elements},r.a.createElement(Ce.a,null,r.a.createElement(Pe.a,null)),r.a.createElement(g.a,{component:"h1",variant:"h5"},"Sing In"),r.a.createElement("form",{className:e.form},r.a.createElement(xe.a,{className:e.input},r.a.createElement(Ne.a,{id:"username",label:"Login",value:c,onChange:function(e){var t=e.target;return o(t.value)},autoFocus:!0,fullWidth:!0})),r.a.createElement(xe.a,{className:e.input},r.a.createElement(Ne.a,{id:"password",label:"Password",type:"password",value:d,onChange:function(e){var t=e.target;return f(t.value)},fullWidth:!0})),r.a.createElement(xe.a,null,r.a.createElement(Se.a,{className:e.submit,type:"submit",fullWidth:!0,color:"primary",variant:"contained",onClick:function(e){e.preventDefault(),S(c,d)}},j?"Logging in...":"Log In")))))}var Ae=n(143),_e=n(151),He=n(48),Be=n(30),We=n(75),Ue=n(76),Fe=n(79),ze=n(77),qe=n.n(ze),Me=(n(99),function(e){function t(){var e,n;Object(He.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(We.a)(this,(e=Object(Ue.a)(t)).call.apply(e,[this].concat(r)))).state={src:null,crop:{unit:"%",width:30,aspect:16/9}},n.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){n.setState({src:t.result})})),t.readAsDataURL(e.target.files[0])}},n.onImageLoaded=function(e){n.imageRef=e},n.onCropComplete=function(e){n.makeClientCrop(e)},n.onCropChange=function(e,t){n.setState({crop:e})},n}return Object(Fe.a)(t,e),Object(Be.a)(t,[{key:"makeClientCrop",value:function(){var e=Object(m.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.png");case 3:n=e.sent,this.setState({croppedImageUrl:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,n){var a=this,r=document.createElement("canvas"),c=e.naturalWidth/e.width,o=e.naturalHeight/e.height,i=t.width*c,s=t.height*o,u=i,l=s;return(i>1200||s>675)&&(i/s>1200/675?(u=1200,l=Math.round(s/i*1200)):(l=675,u=Math.round(i/s*675))),r.width=u,r.height=l,r.getContext("2d").drawImage(e,t.x*c,t.y*o,t.width*c,t.height*o,0,0,u,l),new Promise((function(e,t){r.toBlob((function(t){t?(t.name=n,window.URL.revokeObjectURL(a.fileUrl),a.fileUrl=window.URL.createObjectURL(t),a.props.setImageUrl(t),e(a.fileUrl)):console.error("Canvas is empty")}),"image/png",1)}))}},{key:"render",value:function(){var e=this.state,t=e.crop,n=e.croppedImageUrl,a=e.src;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onSelectFile})),a&&r.a.createElement(qe.a,{src:a,crop:t,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),n&&r.a.createElement("img",{alt:"Crop",style:{maxWidth:"100%"},src:n}))}}]),t}(a.PureComponent));n(100);function Je(e){var t=e.value,n=e.submitData,c=e.addingNews,o=e.setAddingNews,i=Object(a.useState)(t.header),s=Object(p.a)(i,2),u=s[0],l=s[1],m=Object(a.useState)(t.shortHeader),d=Object(p.a)(m,2),f=d[0],h=d[1],b=Object(a.useState)(t.tags),w=Object(p.a)(b,2),O=w[0],v=w[1],E=Object(a.useState)(t.text),j=Object(p.a)(E,2),y=j[0],k=j[1],C=Object(a.useState)(Ie()),x=Object(p.a)(C,2),N=x[0],S=(x[1],Object(a.useState)(!1)),D=Object(p.a)(S,2),P=D[0],I=D[1],T=Object(a.useState)(null),L=Object(p.a)(T,2),R=L[0],A=L[1];return r.a.createElement(ye.a,{component:"main"},r.a.createElement(ke.a,null),r.a.createElement("button",{onClick:function(){I((function(e){return!e}))}},"Edit news"),r.a.createElement("button",{onClick:function(){n(t.id,f,u,O,y,"delete",R,N)}},"Delete news"),r.a.createElement(Ae.a,{direction:"up",in:P||c,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"root"},r.a.createElement(g.a,null,"Add New Marker"),r.a.createElement("button",{onClick:function(){c?o(!1):I(!1)}},"Close"),r.a.createElement("form",{className:"form"},r.a.createElement(xe.a,null,r.a.createElement(Me,{setImageUrl:function(e){A(e)}})),r.a.createElement(xe.a,null,r.a.createElement(Ne.a,{className:"input",label:"Short Header",onChange:function(e){var t=e.target;return h(t.value)},value:f,autoFocus:!0,fullWidth:!0,required:!0})),r.a.createElement(xe.a,null,r.a.createElement(Ne.a,{className:"input",label:"Header",onChange:function(e){var t=e.target;return l(t.value)},value:u,autoFocus:!0,fullWidth:!0,required:!0})),r.a.createElement(xe.a,null,r.a.createElement(Ne.a,{className:"input",label:"Tags",onChange:function(e){var t=e.target;return v(t.value)},value:O,fullWidth:!0,required:!0})),r.a.createElement(xe.a,null,r.a.createElement(_e.a,{className:"input",label:"Text",onChange:function(e){var t=e.target;return k(t.value)},value:y,fullWidth:!0,required:!0})),r.a.createElement(xe.a,null,c?r.a.createElement(Se.a,{className:"input",color:"secondary",variant:"contained",onClick:function(){n(t.id,f,u,O,y,"add",R,N),h(""),l(""),v(""),k(""),o(!1)}},"Save Info"):r.a.createElement(Se.a,{className:"input",color:"secondary",variant:"contained",onClick:function(){n(t.id,f,u,O,y,"edit",R,N),I(!1)}},"Edit Info"))))))}var Ge="".concat("http://185.67.1.28");function Ke(){var e=Object(a.useState)(!0),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),i=Object(p.a)(o,2),u=i[0],d=i[1],f=Object(a.useState)(!1),h=Object(p.a)(f,2),b=h[0],g=h[1],w=Object(a.useState)(!1),O=Object(p.a)(w,2),v=O[0],E=O[1],j=function(){var e=Object(m.a)(l.a.mark((function e(t,n,a,r,c,o){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("shortHeader",t),i.append("header",n),i.append("tags",a),i.append("text",r),i.append("photo",c),e.prev=6,e.next=9,k(i,o);case 9:e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.log("API call error:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(l.a.mark((function e(t,n,a,r,c,o,i){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("id",t),s.append("shortHeader",n),s.append("header",a),s.append("tags",r),s.append("text",c),s.append("photo",o),e.prev=7,e.next=10,C(s,i);case 10:e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log("API call error:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t,n,a,r,c,o,i){return e.apply(this,arguments)}}(),S=function(){var e=Object(m.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t,n);case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("API call error:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(e,t,n,a,r,c,o,i){"add"===c&&j(t,n,a,r,o,i),"edit"===c&&N(e,t,n,a,r,o,i),"delete"===c&&S(e,i)};return Object(a.useEffect)((function(){Ie()||E(!0)}),[]),Object(a.useEffect)((function(){(function(){var e=Object(m.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(Ie());case 2:(t=e.sent).success?(d(t.entity),c(!1)):console.log("Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n?r.a.createElement("h1",null,"Is Loading..."):v?r.a.createElement(s.a,{to:"/adminlogin"}):r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return g((function(e){return!e}))}},"Add news"),r.a.createElement(Je,{submitData:D,value:{id:null,shortHeader:"",header:"",tags:"",text:""},addingNews:b,setAddingNews:g}),u.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("div",{style:{display:"flex",alignItems:"center "}},r.a.createElement("img",{src:"".concat(Ge,"/").concat(e.photo),height:"100",width:"100"}),r.a.createElement("p",null,e.shortHeader," "),r.a.createElement("h2",null,e.header," "),r.a.createElement("p",null,e.text," ")),r.a.createElement(Je,{submitData:D,value:e}))})))}var Ye=Object(O.a)((function(e){var t,n;return{content:(t={position:"fixed",display:"flex",bottom:10,right:40},Object(w.a)(t,e.breakpoints.down(600),{display:"none"}),Object(w.a)(t,e.breakpoints.down(700),{display:"none"}),Object(w.a)(t,e.breakpoints.down(1e3),{right:0}),t),list:{display:"flex"},button:{fontSize:"3em"},currentNewsContent:(n={position:"fixed",bottom:10,right:0},Object(w.a)(n,e.breakpoints.up(1100),{right:30}),Object(w.a)(n,e.breakpoints.down(1e3),{display:"none"}),n)}})),$e=n(152),Qe=n(78),Ve=n.n(Qe);function Xe(){var e=Ye(),t=Object(s.g)();return r.a.createElement("div",{className:t.location.pathname.match(/news\/([0-9])+/)?e.currentNewsContent:e.content},r.a.createElement($e.a,{className:e.list,disablePadding:!0},r.a.createElement(z.a,{button:!0,component:"a",href:"mailto:realmainnews@gmail.com",target:"__blank"},r.a.createElement(Ve.a,{className:e.button})),r.a.createElement(z.a,{button:!0,component:"a",href:"https://t.me/realmainnews",target:"__blank"},r.a.createElement("img",{src:V.a,height:"45",width:"45"}))))}var Ze=function(){return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/admin",component:Ke}),r.a.createElement(s.b,{exact:!0,path:"/adminlogin",component:Re}),r.a.createElement(a.Fragment,null,r.a.createElement(ie,null),r.a.createElement(Xe,null),r.a.createElement(s.b,{exact:!0,path:"/",component:W}),r.a.createElement(s.b,{exact:!0,path:"/news/:id",children:r.a.createElement(ge,null)}),r.a.createElement(s.b,{exact:!0,path:"/news/tag/:tag",children:r.a.createElement(je,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var et=n(37);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var at={currentNews:null};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot={cards:null};function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut={hotNews:null};function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt={oneCard:null},dt=Object(et.b)({currentNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_CURRENT_NEWS":return nt({},e,{currentNews:t.payload[0]});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARDS":return ct({},e,{cards:t.payload});default:return e}},hotNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_HOT_NEWS":return st({},e,{hotNews:t.payload});default:return e}},oneCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ONE_CARD":return mt({},e,{oneCard:t.payload});default:return e}}}),ft=Object(et.c)(dt);o.a.render(r.a.createElement(A.a,{store:ft},r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},47:function(e,t,n){e.exports=n.p+"static/media/telegram-icon.7ed2f971.png"},59:function(e,t,n){e.exports=n.p+"static/media/logo2.eb4dc06b.png"},72:function(e,t,n){e.exports=n.p+"static/media/email.418f73d8.png"},85:function(e,t,n){e.exports=n(101)},90:function(e,t,n){},91:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.d12070b1.chunk.js.map
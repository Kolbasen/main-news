(this["webpackJsonpweb-react"]=this["webpackJsonpweb-react"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=(n(89),n(19)),s=n(32),u=(n(90),n(7)),l=n.n(u),p=n(12),m=n(10),d=n(133),f=n(135),h=n(136),b=n(137),g=n(44),w=n(6),v=n(67),O=Object(v.a)((function(e){return{items:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},card:Object(w.a)({width:380,marginBottom:e.spacing(2)},e.breakpoints.down(600),{width:300}),media:Object(w.a)({height:223},e.breakpoints.down(600),{height:140})}})),E="".concat("http://185.67.1.28","/api"),j=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(E),e.next=3,fetch(n,{method:"GET",headers:{CurrentId:"".concat(t)}});case 3:return a=e.sent,e.abrupt("return",I(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",n="".concat(E,"/admin/").concat(""),e.next=4,fetch(n,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,console.log(a),e.abrupt("return",I(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/add",a="".concat(E,"/").concat("admin/add"),console.log(t),e.next=5,fetch(a,{method:"PUT",headers:{Authorization:"Bearer ".concat(n)},body:t});case 5:return r=e.sent,e.abrupt("return",I(r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),"admin/edit",a="".concat(E,"/").concat("admin/edit"),e.next=5,fetch(a,{method:"PUT",headers:{Authorization:"Bearer ".concat(n)},body:t});case 5:return r=e.sent,e.abrupt("return",I(r));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/delete",a="".concat(E,"/").concat("admin/delete"),e.next=4,fetch(a,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({id:t})});case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="news/".concat(t),a="".concat(E,"/").concat(n),e.next=4,fetch(a);case 4:return r=e.sent,e.abrupt("return",I(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"hotnews",t="".concat(E,"/").concat("hotnews"),e.next=4,fetch(t);case 4:return n=e.sent,e.abrupt("return",I(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="tags/".concat(t),a="".concat(E,"/").concat(n),e.next=4,fetch(a);case 4:return r=e.sent,e.abrupt("return",I(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"admin/login",n="".concat(E,"/").concat("admin/login"),e.next=4,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return a=e.sent,e.abrupt("return",I(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return n=e.sent,a="OK"===t.statusText,e.abrupt("return",{success:a,entity:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),r=n[0],c=n[1],o=function(e,t){var n;return function(){var a=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(a,r)}),t)}};function i(){window.innerHeight+Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)<document.documentElement.offsetHeight-10||r||(console.log("Height is critical"),c(!0))}return Object(a.useEffect)((function(){return window.addEventListener("scroll",o(i,500)),function(){return window.removeEventListener("scroll",o(i,500))}}),[i]),Object(a.useEffect)((function(){r&&(console.log("Perform fetch"),e())}),[e,r]),[r,c]},L="".concat("http://185.67.1.28");var R=function(e){var t=e.cards,n=e.setCards,c=Object(s.g)(),o=O(),i=Object(a.useState)(!0),u=Object(m.a)(i,2),w=u[0],v=u[1],E=Object(a.useState)(-1),y=Object(m.a)(E,2),C=y[0],k=y[1],x=T((function(){!function(){var e=Object(p.a)(l.a.mark((function e(a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a);case 2:(r=e.sent).entity.length||A(!1),r.success&&r.entity.length?(D(!1),c=t.concat(r.entity),n(c),k(r.entity[r.entity.length-1].id)):console.log("Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(C)})),N=Object(m.a)(x,2),S=N[0],D=N[1],P=Object(a.useState)(!0),I=Object(m.a)(P,2),R=I[0],A=I[1];return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:(a=e.sent).success?(console.log(a.entity),k(a.entity[a.entity.length-1].id),n(a.entity),v(!1)):console.log("Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(C)}),[]),w?r.a.createElement("h1",null,"Is Loading..."):r.a.createElement("div",{style:{marginTop:"25px"}},t.map((function(e,t){return r.a.createElement("div",{key:t,className:o.items},r.a.createElement(d.a,{className:o.card},r.a.createElement(f.a,{onClick:function(){c.push("/news/".concat(e.id))}},r.a.createElement(h.a,{className:o.media,image:"".concat(L,"/").concat(e.photo),title:"Contemplative Reptile"}),r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.shortHeader)))))})),S&&R?"Fetching more cards":null)},A=n(21),H=function(e){return{type:"SELECT_CURRENT_NEWS",payload:e}},B=function(e){return console.log(e),{type:"ADD_CARDS",payload:e}};var W={setCurrentNews:H,setCards:B},U=Object(A.b)((function(e){return{cards:e.cards.cards}}),W)((function(e){var t=e.cards,n=e.setCards,a=e.setCurrentNews;return r.a.createElement(R,{cards:t,setCards:n,setCurrentNews:a})})),_=n(141),F=n(142),q=n(138),z=n(143),J=n(139),M=n(153),G=n(101),K=Object(G.a)((function(e){return{list:{width:250},fullList:{width:"auto"}}})),Y=function(e){var t=e.toggleDrawer,n=K(),a=Object(s.g)();return r.a.createElement("div",{className:n.list,role:"presentation",onClick:t(!1),onKeyDown:t(!1)},r.a.createElement(q.a,{button:!0,component:"a",onClick:function(){return a.push("/")}},r.a.createElement(J.a,{primary:"\u0414\u043e\u043c\u043e\u0439"})),r.a.createElement(q.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/world")}},r.a.createElement(J.a,{primary:"\u041c\u0438\u0440"})),r.a.createElement(q.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/politics")}},r.a.createElement(J.a,{primary:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"})),r.a.createElement(q.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/ukraine")}},r.a.createElement(J.a,{primary:"\u0423\u043a\u0440\u0430\u0438\u043d\u0430"})),r.a.createElement(q.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/russia")}},r.a.createElement(J.a,{primary:"\u0420\u043e\u0441\u0441\u0438\u044f"})),r.a.createElement(q.a,{button:!0,component:"a",onClick:function(){return a.push("/news/tag/technology")}},r.a.createElement(J.a,{primary:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"})))};var $=function(e){var t=e.sideDrawerOpen,n=e.toggleDrawer;return r.a.createElement("div",null,r.a.createElement(M.a,{open:t,onClose:n(!1)},r.a.createElement(Y,{toggleDrawer:n})))},Q=n(72),V=n.n(Q),X=Object(v.a)((function(e){var t;return{root:{},toolbar:Object(w.a)({backgroundColor:"#000000",alignItems:"center",justifyContent:"center",maxHeight:"56px"},e.breakpoints.down("xs"),{justifyContent:"space-between"}),items:Object(w.a)({display:"flex"},e.breakpoints.down("xs"),{display:"none"}),mobileItem:Object(w.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"}),menuButton:{marginRight:e.spacing(2)},bottomLine:(t={marginRight:"auto",marginLeft:"auto"},Object(w.a)(t,e.breakpoints.down("lg"),{width:"50%"}),Object(w.a)(t,e.breakpoints.down("md"),{width:"65%"}),Object(w.a)(t,e.breakpoints.down(900),{width:"80%"}),Object(w.a)(t,e.breakpoints.down(800),{width:"80%"}),Object(w.a)(t,e.breakpoints.down(750),{width:"90%"}),Object(w.a)(t,e.breakpoints.down("xs"),{width:"75%"}),Object(w.a)(t,e.breakpoints.down(550),{width:"80%"}),Object(w.a)(t,e.breakpoints.down(450),{width:"90%"}),Object(w.a)(t,"borderBottom","2px solid black"),Object(w.a)(t,"marginTop","85px"),t)}})),Z=n(71),ee=n.n(Z);function te(e){var t=e.oneCard,n=X(),c=Object(s.g)(),o=Object(a.useState)(!1),i=Object(m.a)(o,2),u=i[0],l=i[1],p=Object(a.useState)(null),d=Object(m.a)(p,2),f=d[0],h=d[1];return Object(a.useEffect)((function(){if(t)if(c.location.pathname.match(/news\/([0-9])+/)){var e=new Date(t.createdAt).toLocaleDateString().split("/").join(".");h(e)}else h(null)}),[c.location,t]),r.a.createElement("div",{className:n.root},r.a.createElement(_.a,{position:"fixed"},r.a.createElement(F.a,{className:n.toolbar},r.a.createElement("div",{className:n.items},r.a.createElement(q.a,{button:!0,component:"button",onClick:function(){return c.push("/")}},r.a.createElement(z.a,null)),r.a.createElement(q.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/world")}},r.a.createElement(J.a,{primary:"\u041c\u0438\u0440"})),r.a.createElement(q.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/politics")}},r.a.createElement(J.a,{primary:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430"})),r.a.createElement(q.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/ukraine")}},r.a.createElement(J.a,{primary:"\u0423\u043a\u0440\u0430\u0438\u043d\u0430"})),r.a.createElement(q.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/russia")}},r.a.createElement(J.a,{primary:"\u0420\u043e\u0441\u0441\u0438\u044f"})),r.a.createElement(q.a,{button:!0,component:"button",onClick:function(){return c.push("/news/tag/technology")}},r.a.createElement(J.a,{primary:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}))),r.a.createElement("div",{className:n.mobileItem},r.a.createElement(q.a,{button:!0,component:"button",onClick:function(){l((function(e){return!e})),console.log(1)}},r.a.createElement(V.a,{fontSize:"large"}))),r.a.createElement("div",{className:n.mobileItem},r.a.createElement(q.a,{button:!0,component:"button",onClick:function(){return c.push("/")}},r.a.createElement(z.a,null,r.a.createElement("img",{src:ee.a,width:"25",height:"25"})))))),r.a.createElement($,{toggleDrawer:function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&l(e)}},sideDrawerOpen:u}),r.a.createElement("div",{className:n.bottomLine},r.a.createElement("div",null,f),r.a.createElement("div",null)))}var ne=Object(A.b)((function(e){return{cards:e.cards.cards,oneCard:e.oneCard.oneCard}}))((function(e){var t=e.cards,n=e.oneCard;return r.a.createElement(te,{cards:t,oneCard:n})})),ae=Object(v.a)((function(e){return{items:{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"70px"},card:{width:150,height:50,marginBottom:e.spacing(2)},media:{height:140}}}));var re=function(e){var t=e.hotNews,n=(e.setCurrentNews,Object(s.g)()),a=ae();return r.a.createElement("div",null,r.a.createElement(d.a,{className:a.card},r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Hot news"))),t.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(d.a,{className:a.card},r.a.createElement(f.a,{onClick:function(){console.log(n.id),n.push("/news/".concat(e.id))}},r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.shortHeader)))))})))};var ce={setCurrentNews:H},oe=Object(A.b)((function(e){return{cards:e.cards.cards,hotNews:e.hotNews.hotNews}}),ce)((function(e){var t=e.hotNews,n=e.setCurrentNews,a=Object(s.h)();return r.a.createElement(re,{key:a.key,hotNews:t,setCurrentNews:n})})),ie=Object(v.a)((function(e){return{container:{display:"flex",marginTop:"25px",justifyContent:"center"},items:Object(w.a)({display:"flex",flexDirection:"column",marginRight:40},e.breakpoints.down("xs"),{marginRight:"0px"}),card:Object(w.a)({width:380,maxWidth:380,marginBottom:e.spacing(2)},e.breakpoints.down(600),{width:300}),media:Object(w.a)({height:223},e.breakpoints.down(600),{height:176}),hotNews:Object(w.a)({marginLeft:"30px"},e.breakpoints.down("xs"),{marginLeft:"0px",display:"none"})}})),se="".concat("http://185.67.1.28");var ue=function(e){var t=ie(),n=Object(s.i)().id,c=e.setHotNews,o=(e.currentNews,e.setCurrentNews,e.oneCard),i=e.setOneCard;console.log(i),console.log(o);var u=Object(a.useState)(!0),f=Object(m.a)(u,2),w=f[0],v=f[1];return Object(a.useEffect)((function(){v(!0),function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([N(t),S()]);case 3:n=e.sent,a=Object(m.a)(n,2),r=a[0],o=a[1],r.success&&o.success?(c(o.entity),i(r.entity),v(!1)):console.log("Something went wrong"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Request error: "),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()(n)}),[]),w?r.a.createElement("div",null,"Is Loading..."):(console.log(o),r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.items},r.a.createElement(d.a,{className:t.card},r.a.createElement(h.a,{className:t.media,image:"".concat(se,"/").concat(o.photo),title:"Contemplative Reptile"})),r.a.createElement(d.a,{className:t.card},r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{whiteSpace:"pre-line"}},o.header))),r.a.createElement(d.a,{className:t.card},r.a.createElement(b.a,null,r.a.createElement(g.a,{variant:"body2",color:"textSecondary",component:"p",style:{whiteSpace:"pre-line"}},o.text)))),r.a.createElement("div",{className:t.hotNews},r.a.createElement(oe,null))))},le=function(e){return{type:"ADD_HOT_NEWS",payload:e}};var pe={setCurrentNews:H,setCards:B,setHotNews:le,setOneCard:function(e){return{type:"ADD_ONE_CARD",payload:e}}},me=Object(A.b)((function(e){return{cards:e.cards.cards,currentNews:e.currentNews.currentNews,hotNews:e.hotNews.hotNews,oneCard:e.oneCard.oneCard}}),pe)((function(e){var t=Object(s.h)(),n=e.setHotNews,a=e.currentNews,c=e.oneCard,o=e.setOneCard;return r.a.createElement(ue,{key:t.key,setHotNews:n,currentNews:a,setCurrentNews:H,oneCard:c,setOneCard:o})})),de=Object(v.a)((function(e){return{items:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"25px"},card:Object(w.a)({width:380,maxWidth:380,marginBottom:e.spacing(2)},e.breakpoints.down(600),{width:300}),media:Object(w.a)({height:223},e.breakpoints.down(600),{height:176})}})),fe="".concat("http://185.67.1.28");function he(e){var t=e.cards,n=e.setCards,c=(e.setCurrentNews,Object(s.i)()),o=Object(s.g)(),i=de(),u=Object(a.useState)(!0),w=Object(m.a)(u,2),v=w[0],O=w[1];return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:(a=e.sent).success&&(n(a.entity),O(!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(c.tag)}),[]),v?r.a.createElement("h1",{style:{marginTop:"70px"}},"Is Loading..."):r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e.id,className:i.items},r.a.createElement(d.a,{className:i.card},r.a.createElement(f.a,{onClick:function(){o.push("/news/".concat(e.id))}},r.a.createElement(h.a,{className:i.media,image:"".concat(fe,"/").concat(e.photo),title:"Contemplative Reptile"}),r.a.createElement(b.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.shortHeader)))))})))}var be={setCurrentNews:H,setCards:B,setHotNews:le},ge=Object(A.b)((function(e){return{cards:e.cards.cards,hotNews:e.hotNews.hotNews}}),be)((function(e){var t=e.cards,n=e.setCards,a=e.setCurrentNews,c=Object(s.h)();return r.a.createElement(he,{cards:t,setCards:n,key:c.key,setCurrentNews:a})})),we=n(144),ve=n(145),Oe=n(146),Ee=n(147),je=n(151),ye=n(149),Ce=n(73),ke=n.n(Ce),xe=function(){return localStorage.getItem("token")},Ne=function(e){return localStorage.setItem("token",e),!0},Se=Object(v.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},elements:{marginTop:e.spacing(25),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3),padding:e.spacing(0,2,0,2)},avatar:{margin:e.spacing(1),backgroundColor:"#000000"},submit:{margin:e.spacing(3,0,2)},input:{marginBottom:e.spacing(1)}}}));function De(){var e=Se(),t=Object(a.useState)(""),n=Object(m.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),u=Object(m.a)(i,2),d=u[0],f=u[1],h=Object(a.useState)(!1),b=Object(m.a)(h,2),w=b[0],v=b[1],O=Object(a.useState)(!1),E=Object(m.a)(O,2),j=E[0],y=E[1],C=Object(a.useState)(""),k=Object(m.a)(C,2),x=k[0],N=k[1],S=function(){var e=Object(p.a)(l.a.mark((function e(t,n,a){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),r={username:t,password:n},e.prev=2,e.next=5,P(r);case 5:c=e.sent,console.log(c),c.success?c.entity.token&&(Ne(c.entity.token),v(!0)):(y(!1),N(c.entity.error)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),y(!1),N("Some error");case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,a){return e.apply(this,arguments)}}();return w?r.a.createElement(s.a,{to:"/admin"}):r.a.createElement(we.a,{component:"main",maxWidth:"xs"},x,r.a.createElement(ve.a,null),r.a.createElement("div",{className:e.elements},r.a.createElement(Oe.a,null,r.a.createElement(ke.a,null)),r.a.createElement(g.a,{component:"h1",variant:"h5"},"Sing In"),r.a.createElement("form",{className:e.form},r.a.createElement(Ee.a,{className:e.input},r.a.createElement(je.a,{id:"username",label:"Login",value:c,onChange:function(e){var t=e.target;return o(t.value)},autoFocus:!0,fullWidth:!0})),r.a.createElement(Ee.a,{className:e.input},r.a.createElement(je.a,{id:"password",label:"Password",type:"password",value:d,onChange:function(e){var t=e.target;return f(t.value)},fullWidth:!0})),r.a.createElement(Ee.a,null,r.a.createElement(ye.a,{className:e.submit,type:"submit",fullWidth:!0,color:"primary",variant:"contained",onClick:function(e){e.preventDefault(),S(c,d)}},j?"Logging in...":"Log In")))))}var Pe=n(140),Ie=n(148),Te=n(48),Le=n(29),Re=n(74),Ae=n(75),He=n(77),Be=n(76),We=n.n(Be),Ue=(n(98),function(e){function t(){var e,n;Object(Te.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(Re.a)(this,(e=Object(Ae.a)(t)).call.apply(e,[this].concat(r)))).state={src:null,crop:{unit:"%",width:30,aspect:16/9}},n.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",(function(){n.setState({src:t.result})})),t.readAsDataURL(e.target.files[0])}},n.onImageLoaded=function(e){n.imageRef=e},n.onCropComplete=function(e){n.makeClientCrop(e)},n.onCropChange=function(e,t){n.setState({crop:e})},n}return Object(He.a)(t,e),Object(Le.a)(t,[{key:"makeClientCrop",value:function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.png");case 3:n=e.sent,this.setState({croppedImageUrl:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,n){var a=this,r=document.createElement("canvas"),c=e.naturalWidth/e.width,o=e.naturalHeight/e.height,i=t.width*c,s=t.height*o,u=i,l=s;return(i>1200||s>675)&&(i/s>1200/675?(u=1200,l=Math.round(s/i*1200)):(l=675,u=Math.round(i/s*675))),r.width=u,r.height=l,r.getContext("2d").drawImage(e,t.x*c,t.y*o,t.width*c,t.height*o,0,0,u,l),new Promise((function(e,t){r.toBlob((function(t){t?(t.name=n,window.URL.revokeObjectURL(a.fileUrl),a.fileUrl=window.URL.createObjectURL(t),a.props.setImageUrl(t),e(a.fileUrl)):console.error("Canvas is empty")}),"image/png",1)}))}},{key:"render",value:function(){var e=this.state,t=e.crop,n=e.croppedImageUrl,a=e.src;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onSelectFile})),a&&r.a.createElement(We.a,{src:a,crop:t,ruleOfThirds:!0,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),n&&r.a.createElement("img",{alt:"Crop",style:{maxWidth:"100%"},src:n}))}}]),t}(a.PureComponent));n(99);function _e(e){var t=e.value,n=e.submitData,c=e.addingNews,o=e.setAddingNews,i=Object(a.useState)(t.header),s=Object(m.a)(i,2),u=s[0],l=s[1],p=Object(a.useState)(t.shortHeader),d=Object(m.a)(p,2),f=d[0],h=d[1],b=Object(a.useState)(t.tags),w=Object(m.a)(b,2),v=w[0],O=w[1],E=Object(a.useState)(t.text),j=Object(m.a)(E,2),y=j[0],C=j[1],k=Object(a.useState)(xe()),x=Object(m.a)(k,2),N=x[0],S=(x[1],Object(a.useState)(!1)),D=Object(m.a)(S,2),P=D[0],I=D[1],T=Object(a.useState)(null),L=Object(m.a)(T,2),R=L[0],A=L[1];return r.a.createElement(we.a,{component:"main"},r.a.createElement(ve.a,null),r.a.createElement("button",{onClick:function(){I((function(e){return!e}))}},"Edit news"),r.a.createElement("button",{onClick:function(){n(t.id,f,u,v,y,"delete",R,N)}},"Delete news"),r.a.createElement(Pe.a,{direction:"up",in:P||c,mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("div",{className:"root"},r.a.createElement(g.a,null,"Add New Marker"),r.a.createElement("button",{onClick:function(){c?o(!1):I(!1)}},"Close"),r.a.createElement("form",{className:"form"},r.a.createElement(Ee.a,null,r.a.createElement(Ue,{setImageUrl:function(e){console.log(e),A(e)}})),r.a.createElement(Ee.a,null,r.a.createElement(je.a,{className:"input",label:"Short Header",onChange:function(e){var t=e.target;return h(t.value)},value:f,autoFocus:!0,fullWidth:!0,required:!0})),r.a.createElement(Ee.a,null,r.a.createElement(je.a,{className:"input",label:"Header",onChange:function(e){var t=e.target;return l(t.value)},value:u,autoFocus:!0,fullWidth:!0,required:!0})),r.a.createElement(Ee.a,null,r.a.createElement(je.a,{className:"input",label:"Tags",onChange:function(e){var t=e.target;return O(t.value)},value:v,fullWidth:!0,required:!0})),r.a.createElement(Ee.a,null,r.a.createElement(Ie.a,{className:"input",label:"Text",onChange:function(e){var t=e.target;return C(t.value)},value:y,fullWidth:!0,required:!0})),r.a.createElement(Ee.a,null,c?r.a.createElement(ye.a,{className:"input",color:"secondary",variant:"contained",onClick:function(){n(t.id,f,u,v,y,"add",R,N),h(""),l(""),O(""),C(""),o(!1)}},"Save Info"):r.a.createElement(ye.a,{className:"input",color:"secondary",variant:"contained",onClick:function(){n(t.id,f,u,v,y,"edit",R,N),I(!1)}},"Edit Info"))))))}var Fe="".concat("http://185.67.1.28");function qe(){var e=Object(a.useState)(!0),t=Object(m.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(null),i=Object(m.a)(o,2),u=i[0],d=i[1],f=Object(a.useState)(!1),h=Object(m.a)(f,2),b=h[0],g=h[1],w=Object(a.useState)(!1),v=Object(m.a)(w,2),O=v[0],E=v[1],j=function(){var e=Object(p.a)(l.a.mark((function e(t,n,a,r,c,o){var i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new FormData).append("shortHeader",t),i.append("header",n),i.append("tags",a),i.append("text",r),i.append("photo",c),e.prev=6,e.next=9,C(i,o);case 9:s=e.sent,console.log(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log("API call error:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(l.a.mark((function e(t,n,a,r,c,o,i){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new FormData).append("id",t),s.append("shortHeader",n),s.append("header",a),s.append("tags",r),s.append("text",c),s.append("photo",o),e.prev=7,e.next=10,k(s,i);case 10:e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log("API call error:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t,n,a,r,c,o,i){return e.apply(this,arguments)}}(),S=function(){var e=Object(p.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(t,n);case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("API call error:",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(e,t,n,a,r,c,o,i){"add"===c&&j(t,n,a,r,o,i),"edit"===c&&N(e,t,n,a,r,o,i),"delete"===c&&S(e,i)};return Object(a.useEffect)((function(){xe()||E(!0)}),[]),Object(a.useEffect)((function(){(function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(xe());case 2:(t=e.sent).success?(d(t.entity),c(!1)):console.log("Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),n?r.a.createElement("h1",null,"Is Loading..."):O?r.a.createElement(s.a,{to:"/adminlogin"}):r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return g((function(e){return!e}))}},"Add news"),r.a.createElement(_e,{submitData:D,value:{id:null,shortHeader:"",header:"",tags:"",text:""},addingNews:b,setAddingNews:g}),u.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("div",{style:{display:"flex",alignItems:"center "}},r.a.createElement("img",{src:"".concat(Fe,"/").concat(e.photo),height:"100",width:"100"}),r.a.createElement("p",null,e.shortHeader," "),r.a.createElement("h2",null,e.header," "),r.a.createElement("p",null,e.text," ")),r.a.createElement(_e,{submitData:D,value:e}))})))}var ze=Object(v.a)((function(e){return{content:Object(w.a)({position:"fixed",bottom:50,right:150},e.breakpoints.down(600),{display:"none"})}})),Je=n(150);function Me(){var e=ze();return r.a.createElement("div",{className:e.content},r.a.createElement(Je.a,{href:"https://www.google.com.ua/?hl=ru",target:"_blank"},"> Link"))}var Ge=function(){return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/admin",component:qe}),r.a.createElement(s.b,{exact:!0,path:"/adminlogin",component:De}),r.a.createElement(a.Fragment,null,r.a.createElement(ne,null),r.a.createElement(Me,null),r.a.createElement(s.b,{exact:!0,path:"/",component:U}),r.a.createElement(s.b,{exact:!0,path:"/news/:id",children:r.a.createElement(me,null)}),r.a.createElement(s.b,{exact:!0,path:"/news/tag/:tag",children:r.a.createElement(ge,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ke=n(37);function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe={currentNews:null};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze={cards:null};function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt={hotNews:null};function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(n,!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct={oneCard:null},ot=Object(Ke.b)({currentNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_CURRENT_NEWS":return $e({},e,{currentNews:t.payload[0]});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CARDS":return Xe({},e,{cards:t.payload});default:return e}},hotNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_HOT_NEWS":return tt({},e,{hotNews:t.payload});default:return e}},oneCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ONE_CARD":return rt({},e,{oneCard:t.payload});default:return e}}}),it=Object(Ke.c)(ot);o.a.render(r.a.createElement(A.a,{store:it},r.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,n){e.exports=n.p+"static/media/logo.b90b15aa.png"},84:function(e,t,n){e.exports=n(100)},89:function(e,t,n){},90:function(e,t,n){},99:function(e,t,n){}},[[84,1,2]]]);
//# sourceMappingURL=main.e079f104.chunk.js.map